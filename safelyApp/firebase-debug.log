[debug] [2025-08-15T08:36:10.067Z] ----------------------------------------------------------------------
[debug] [2025-08-15T08:36:10.071Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Kurts\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions
[debug] [2025-08-15T08:36:10.072Z] CLI Version:   14.12.0
[debug] [2025-08-15T08:36:10.072Z] Platform:      win32
[debug] [2025-08-15T08:36:10.072Z] Node Version:  v22.17.0
[debug] [2025-08-15T08:36:10.073Z] Time:          Fri Aug 15 2025 10:36:10 GMT+0200 (South Africa Standard Time)
[debug] [2025-08-15T08:36:10.073Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-08-15T08:36:10.416Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-08-15T08:36:10.416Z] > authorizing via signed-in user (231002@virtualwindow.co.za)
[debug] [2025-08-15T08:36:10.417Z] [iam] checking project safelydv300classproj for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-08-15T08:36:10.419Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:36:10.419Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:36:10.420Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions [none]
[debug] [2025-08-15T08:36:10.421Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions x-goog-quota-user=projects/safelydv300classproj
[debug] [2025-08-15T08:36:10.421Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-08-15T08:36:12.176Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions 200
[debug] [2025-08-15T08:36:12.177Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-08-15T08:36:12.177Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:36:12.177Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:36:12.178Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/safelydv300classproj/serviceAccounts/safelydv300classproj@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-08-15T08:36:12.178Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/safelydv300classproj/serviceAccounts/safelydv300classproj@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-08-15T08:36:14.015Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/safelydv300classproj/serviceAccounts/safelydv300classproj@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-08-15T08:36:14.015Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/safelydv300classproj/serviceAccounts/safelydv300classproj@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'safelydv300classproj'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run build
[info] +  functions: Finished running predeploy script. 
[debug] [2025-08-15T08:36:28.561Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:36:28.562Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:36:28.562Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/safelydv300classproj/services/cloudresourcemanager.googleapis.com [none]
[debug] [2025-08-15T08:36:28.562Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/safelydv300classproj/services/cloudresourcemanager.googleapis.com x-goog-quota-user=projects/safelydv300classproj
[debug] [2025-08-15T08:36:30.648Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/safelydv300classproj/services/cloudresourcemanager.googleapis.com 200
[debug] [2025-08-15T08:36:30.649Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/safelydv300classproj/services/cloudresourcemanager.googleapis.com [omitted]
[debug] [2025-08-15T08:36:30.667Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:36:30.667Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:36:30.668Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj [none]
[debug] [2025-08-15T08:36:32.341Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj 200
[debug] [2025-08-15T08:36:32.341Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj {"projectNumber":"130552682344","projectId":"safelydv300classproj","lifecycleState":"ACTIVE","name":"SafelyDV300ClassProj","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-07-23T12:41:51.344134Z","parent":{"type":"organization","id":"302473745500"}}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2025-08-15T08:36:32.346Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:36:32.346Z] Checked if tokens are valid: true, expires at: 1755249583824
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-08-15T08:36:32.347Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:36:32.347Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:36:32.348Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/safelydv300classproj/services/cloudbuild.googleapis.com [none]
[debug] [2025-08-15T08:36:32.348Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/safelydv300classproj/services/cloudbuild.googleapis.com x-goog-quota-user=projects/safelydv300classproj
[debug] [2025-08-15T08:36:32.349Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/safelydv300classproj/services/artifactregistry.googleapis.com [none]
[debug] [2025-08-15T08:36:32.349Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/safelydv300classproj/services/artifactregistry.googleapis.com x-goog-quota-user=projects/safelydv300classproj
[debug] [2025-08-15T08:36:34.009Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/safelydv300classproj/services/cloudbuild.googleapis.com 200
[debug] [2025-08-15T08:36:34.009Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/safelydv300classproj/services/cloudbuild.googleapis.com [omitted]
[warn] !  functions: missing required API cloudbuild.googleapis.com. Enabling now... 
[debug] [2025-08-15T08:36:34.010Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:36:34.010Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:36:34.011Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1/projects/safelydv300classproj/services/cloudbuild.googleapis.com:enable [none]
[debug] [2025-08-15T08:36:34.011Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1/projects/safelydv300classproj/services/cloudbuild.googleapis.com:enable x-goog-quota-user=projects/safelydv300classproj
[debug] [2025-08-15T08:36:34.233Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/safelydv300classproj/services/artifactregistry.googleapis.com 200
[debug] [2025-08-15T08:36:34.234Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/safelydv300classproj/services/artifactregistry.googleapis.com [omitted]
[warn] !  artifactregistry: missing required API artifactregistry.googleapis.com. Enabling now... 
[debug] [2025-08-15T08:36:34.234Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:36:34.234Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:36:34.234Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1/projects/safelydv300classproj/services/artifactregistry.googleapis.com:enable [none]
[debug] [2025-08-15T08:36:34.235Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1/projects/safelydv300classproj/services/artifactregistry.googleapis.com:enable x-goog-quota-user=projects/safelydv300classproj
[debug] [2025-08-15T08:36:36.166Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1/projects/safelydv300classproj/services/cloudbuild.googleapis.com:enable 200
[debug] [2025-08-15T08:36:36.166Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1/projects/safelydv300classproj/services/cloudbuild.googleapis.com:enable [omitted]
[debug] [2025-08-15T08:36:36.360Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1/projects/safelydv300classproj/services/artifactregistry.googleapis.com:enable 200
[debug] [2025-08-15T08:36:36.360Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1/projects/safelydv300classproj/services/artifactregistry.googleapis.com:enable [omitted]
[debug] [2025-08-15T08:36:46.378Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:36:46.379Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:36:46.379Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/safelydv300classproj/adminSdkConfig [none]
[debug] [2025-08-15T08:36:47.318Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/safelydv300classproj/adminSdkConfig 200
[debug] [2025-08-15T08:36:47.318Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/safelydv300classproj/adminSdkConfig {"projectId":"safelydv300classproj","storageBucket":"safelydv300classproj.firebasestorage.app"}
[debug] [2025-08-15T08:36:47.319Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:36:47.319Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:36:47.319Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs [none]
[debug] [2025-08-15T08:36:48.672Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs 200
[debug] [2025-08-15T08:36:48.673Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs {"configs":[{"name":"projects/safelydv300classproj/configs/twilio"}]}
[debug] [2025-08-15T08:36:48.673Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:36:48.673Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:36:48.674Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables [none]
[debug] [2025-08-15T08:36:49.549Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables 200
[debug] [2025-08-15T08:36:49.549Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables {"variables":[{"name":"projects/safelydv300classproj/configs/twilio/variables/sid","updateTime":"2025-08-15T08:19:48.653333037Z"},{"name":"projects/safelydv300classproj/configs/twilio/variables/token","updateTime":"2025-08-15T08:19:48.557720098Z"},{"name":"projects/safelydv300classproj/configs/twilio/variables/phone","updateTime":"2025-08-15T08:19:49.249365924Z"}]}
[debug] [2025-08-15T08:36:49.549Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:36:49.550Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:36:49.550Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:36:49.550Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:36:49.550Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:36:49.550Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:36:49.550Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/sid [none]
[debug] [2025-08-15T08:36:49.550Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/token [none]
[debug] [2025-08-15T08:36:49.553Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/phone [none]
[debug] [2025-08-15T08:36:49.917Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/sid 200
[debug] [2025-08-15T08:36:49.917Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/sid {"name":"projects/safelydv300classproj/configs/twilio/variables/sid","updateTime":"2025-08-15T08:19:48.653333037Z","text":"AC38bcdf250494984c1615c5434321ce20"}
[debug] [2025-08-15T08:36:50.266Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/phone 200
[debug] [2025-08-15T08:36:50.266Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/phone {"name":"projects/safelydv300classproj/configs/twilio/variables/phone","updateTime":"2025-08-15T08:19:49.249365924Z","text":"+17125263759"}
[debug] [2025-08-15T08:36:50.646Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/token 200
[debug] [2025-08-15T08:36:50.646Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/token {"name":"projects/safelydv300classproj/configs/twilio/variables/token","updateTime":"2025-08-15T08:19:48.557720098Z","text":"732fdc2a73d71ac2fe25e4cae3619046"}
[debug] [2025-08-15T08:36:50.649Z] Validating nodejs source
[warn] !  functions: Runtime Node.js 18 was deprecated on 2025-04-30 and will be decommissioned on 2025-10-30, after which you will not be able to deploy without upgrading. Consider upgrading now to avoid disruption. See https://cloud.google.com/functions/docs/runtime-support for full details on the lifecycle policy 
[debug] [2025-08-15T08:36:52.702Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.7.0",
    "firebase-functions": "^6.4.0",
    "twilio": "^5.8.0"
  },
  "devDependencies": {
    "@types/node": "^24.2.1",
    "@types/twilio": "^3.19.3",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-08-15T08:36:52.703Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-08-15T08:36:52.705Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-15T08:36:52.721Z] Found firebase-functions binary at 'C:\Users\Kurts\OneDrive\Documents\GitHub\SafelyApp\safelyApp\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8740

[debug] [2025-08-15T08:36:54.991Z] Got response from /__/functions.yaml {"endpoints":{"sendSafetyAlert":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"sendSafetyAlert"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-08-15T08:36:59.057Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:36:59.057Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:36:59.058Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/safelydv300classproj/services/firebaseextensions.googleapis.com [none]
[debug] [2025-08-15T08:36:59.058Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/safelydv300classproj/services/firebaseextensions.googleapis.com x-goog-quota-user=projects/safelydv300classproj
[debug] [2025-08-15T08:37:00.959Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/safelydv300classproj/services/firebaseextensions.googleapis.com 200
[debug] [2025-08-15T08:37:00.959Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/safelydv300classproj/services/firebaseextensions.googleapis.com [omitted]
[warn] !  extensions: missing required API firebaseextensions.googleapis.com. Enabling now... 
[debug] [2025-08-15T08:37:00.960Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:00.960Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:00.960Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1/projects/safelydv300classproj/services/firebaseextensions.googleapis.com:enable [none]
[debug] [2025-08-15T08:37:00.960Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1/projects/safelydv300classproj/services/firebaseextensions.googleapis.com:enable x-goog-quota-user=projects/safelydv300classproj
[debug] [2025-08-15T08:37:02.822Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1/projects/safelydv300classproj/services/firebaseextensions.googleapis.com:enable 200
[debug] [2025-08-15T08:37:02.822Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1/projects/safelydv300classproj/services/firebaseextensions.googleapis.com:enable [omitted]
[debug] [2025-08-15T08:37:12.854Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-08-15T08:37:12.855Z] > authorizing via signed-in user (231002@virtualwindow.co.za)
[debug] [2025-08-15T08:37:12.855Z] [iam] checking project safelydv300classproj for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-08-15T08:37:12.855Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:12.855Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:12.855Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions [none]
[debug] [2025-08-15T08:37:12.856Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions x-goog-quota-user=projects/safelydv300classproj
[debug] [2025-08-15T08:37:12.856Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-08-15T08:37:14.720Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions 200
[debug] [2025-08-15T08:37:14.720Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-08-15T08:37:14.721Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:14.721Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:14.721Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/safelydv300classproj/instances pageSize=100&pageToken=
[debug] [2025-08-15T08:37:17.740Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/safelydv300classproj/instances 200
[debug] [2025-08-15T08:37:17.740Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/safelydv300classproj/instances {}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged C:\Users\Kurts\OneDrive\Documents\GitHub\SafelyApp\safelyApp\functions (71.68 KB) for uploading 
[debug] [2025-08-15T08:37:17.819Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:17.819Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:17.820Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/safelydv300classproj/locations/-/functions [none]
[debug] [2025-08-15T08:37:18.894Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/safelydv300classproj/locations/-/functions 200
[debug] [2025-08-15T08:37:18.895Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/safelydv300classproj/locations/-/functions {}
[debug] [2025-08-15T08:37:18.895Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:18.895Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:18.895Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-08-15T08:37:20.023Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/-/functions 200
[debug] [2025-08-15T08:37:20.023Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/-/functions {}
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[debug] [2025-08-15T08:37:20.027Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:20.027Z] Checked if tokens are valid: true, expires at: 1755249583824
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[debug] [2025-08-15T08:37:20.028Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:20.028Z] Checked if tokens are valid: true, expires at: 1755249583824
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[debug] [2025-08-15T08:37:20.029Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:20.029Z] Checked if tokens are valid: true, expires at: 1755249583824
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[debug] [2025-08-15T08:37:20.030Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:20.030Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:20.030Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/130552682344/services/run.googleapis.com [none]
[debug] [2025-08-15T08:37:20.030Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/130552682344/services/run.googleapis.com x-goog-quota-user=projects/130552682344
[debug] [2025-08-15T08:37:20.032Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/130552682344/services/eventarc.googleapis.com [none]
[debug] [2025-08-15T08:37:20.032Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/130552682344/services/eventarc.googleapis.com x-goog-quota-user=projects/130552682344
[debug] [2025-08-15T08:37:20.034Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/130552682344/services/pubsub.googleapis.com [none]
[debug] [2025-08-15T08:37:20.034Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/130552682344/services/pubsub.googleapis.com x-goog-quota-user=projects/130552682344
[debug] [2025-08-15T08:37:20.036Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/130552682344/services/storage.googleapis.com [none]
[debug] [2025-08-15T08:37:20.036Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/130552682344/services/storage.googleapis.com x-goog-quota-user=projects/130552682344
[debug] [2025-08-15T08:37:21.850Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/130552682344/services/eventarc.googleapis.com 200
[debug] [2025-08-15T08:37:21.850Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/130552682344/services/eventarc.googleapis.com [omitted]
[warn] !  functions: missing required API eventarc.googleapis.com. Enabling now... 
[debug] [2025-08-15T08:37:21.851Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:21.851Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:21.851Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1/projects/130552682344/services/eventarc.googleapis.com:enable [none]
[debug] [2025-08-15T08:37:21.851Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1/projects/130552682344/services/eventarc.googleapis.com:enable x-goog-quota-user=projects/130552682344
[debug] [2025-08-15T08:37:21.855Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/130552682344/services/run.googleapis.com 200
[debug] [2025-08-15T08:37:21.855Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/130552682344/services/run.googleapis.com [omitted]
[warn] !  functions: missing required API run.googleapis.com. Enabling now... 
[debug] [2025-08-15T08:37:21.855Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:21.855Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:21.855Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1/projects/130552682344/services/run.googleapis.com:enable [none]
[debug] [2025-08-15T08:37:21.856Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1/projects/130552682344/services/run.googleapis.com:enable x-goog-quota-user=projects/130552682344
[debug] [2025-08-15T08:37:21.857Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/130552682344/services/pubsub.googleapis.com 200
[debug] [2025-08-15T08:37:21.857Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/130552682344/services/pubsub.googleapis.com [omitted]
[info] +  functions: required API pubsub.googleapis.com is enabled 
[debug] [2025-08-15T08:37:21.869Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/130552682344/services/storage.googleapis.com 200
[debug] [2025-08-15T08:37:21.869Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/130552682344/services/storage.googleapis.com [omitted]
[info] +  functions: required API storage.googleapis.com is enabled 
[debug] [2025-08-15T08:37:23.807Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1/projects/130552682344/services/eventarc.googleapis.com:enable 200
[debug] [2025-08-15T08:37:23.807Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1/projects/130552682344/services/eventarc.googleapis.com:enable [omitted]
[debug] [2025-08-15T08:37:24.072Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1/projects/130552682344/services/run.googleapis.com:enable 200
[debug] [2025-08-15T08:37:24.072Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1/projects/130552682344/services/run.googleapis.com:enable [omitted]
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2025-08-15T08:37:34.085Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:34.086Z] Checked if tokens are valid: true, expires at: 1755249583824
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2025-08-15T08:37:34.086Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:34.086Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:34.086Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2025-08-15T08:37:34.086Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/pubsub.googleapis.com:generateServiceIdentity x-goog-quota-user=projects/130552682344
[debug] [2025-08-15T08:37:34.086Z] >>> [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/pubsub.googleapis.com:generateServiceIdentity {}
[debug] [2025-08-15T08:37:34.089Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2025-08-15T08:37:34.089Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/eventarc.googleapis.com:generateServiceIdentity x-goog-quota-user=projects/130552682344
[debug] [2025-08-15T08:37:34.089Z] >>> [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/eventarc.googleapis.com:generateServiceIdentity {}
[debug] [2025-08-15T08:37:36.139Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2025-08-15T08:37:36.140Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-130552682344@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"104055372893774142735"}}
[debug] [2025-08-15T08:37:36.229Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2025-08-15T08:37:36.229Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-130552682344@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"111320861835567362679"}}
[debug] [2025-08-15T08:37:36.232Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:36.233Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:36.233Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj [none]
[debug] [2025-08-15T08:37:37.904Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj 200
[debug] [2025-08-15T08:37:37.904Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj {"projectNumber":"130552682344","projectId":"safelydv300classproj","lifecycleState":"ACTIVE","name":"SafelyDV300ClassProj","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-07-23T12:41:51.344134Z","parent":{"type":"organization","id":"302473745500"}}
[debug] [2025-08-15T08:37:37.904Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:37.904Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:37.904Z] >>> [apiv2][query] GET https://compute.googleapis.com/compute/v1/projects/130552682344 [none]
[debug] [2025-08-15T08:37:39.470Z] <<< [apiv2][status] GET https://compute.googleapis.com/compute/v1/projects/130552682344 403
[debug] [2025-08-15T08:37:39.470Z] <<< [apiv2][body] GET https://compute.googleapis.com/compute/v1/projects/130552682344 {"error":{"code":403,"message":"Compute Engine API has not been used in project 130552682344 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=130552682344 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","errors":[{"message":"Compute Engine API has not been used in project 130552682344 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=130552682344 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","domain":"usageLimits","reason":"accessNotConfigured","extendedHelp":"https://console.developers.google.com"}],"status":"PERMISSION_DENIED","details":[{"@type":"type.googleapis.com/google.rpc.ErrorInfo","reason":"SERVICE_DISABLED","domain":"googleapis.com","metadata":{"consumer":"projects/130552682344","containerInfo":"130552682344","service":"compute.googleapis.com","activationUrl":"https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=130552682344","serviceTitle":"Compute Engine API"}},{"@type":"type.googleapis.com/google.rpc.LocalizedMessage","locale":"en-US","message":"Compute Engine API has not been used in project 130552682344 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=130552682344 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry."},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Google developers console API activation","url":"https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=130552682344"}]}]}}
[debug] [2025-08-15T08:37:39.471Z] unable to look up default compute service account. Falling back to 130552682344-compute@developer.gserviceaccount.com. Error: {"name":"FirebaseError","children":[],"context":{"body":{"error":{"code":403,"message":"Compute Engine API has not been used in project 130552682344 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=130552682344 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","errors":[{"message":"Compute Engine API has not been used in project 130552682344 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=130552682344 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","domain":"usageLimits","reason":"accessNotConfigured","extendedHelp":"https://console.developers.google.com"}],"status":"PERMISSION_DENIED","details":[{"@type":"type.googleapis.com/google.rpc.ErrorInfo","reason":"SERVICE_DISABLED","domain":"googleapis.com","metadata":{"consumer":"projects/130552682344","containerInfo":"130552682344","service":"compute.googleapis.com","activationUrl":"https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=130552682344","serviceTitle":"Compute Engine API"}},{"@type":"type.googleapis.com/google.rpc.LocalizedMessage","locale":"en-US","message":"Compute Engine API has not been used in project 130552682344 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=130552682344 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry."},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Google developers console API activation","url":"https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=130552682344"}]}]}},"response":{"statusCode":403}},"exit":1,"message":"Request to https://compute.googleapis.com/compute/v1/projects/130552682344 had HTTP Error: 403, Compute Engine API has not been used in project 130552682344 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=130552682344 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","status":403}
[debug] [2025-08-15T08:37:39.472Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:39.472Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:39.473Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/safelydv300classproj/billingInfo [none]
[debug] [2025-08-15T08:37:40.699Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/safelydv300classproj/billingInfo 200
[debug] [2025-08-15T08:37:40.699Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/safelydv300classproj/billingInfo {"name":"projects/safelydv300classproj/billingInfo","projectId":"safelydv300classproj","billingAccountName":"billingAccounts/01E9CC-CBD959-768D9C","billingEnabled":true}
[debug] [2025-08-15T08:37:40.701Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:40.701Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:40.701Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2025-08-15T08:37:42.991Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/functions:generateUploadUrl 200
[debug] [2025-08-15T08:37:42.991Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-130552682344.us-central1.cloudfunctions.appspot.com/6b1513e4-3338-4226-9c5c-433d79fe2472.zip?GoogleAccessId=service-130552682344@gcf-admin-robot.iam.gserviceaccount.com&Expires=1755248862&Signature=UI5xiSd4DXR%2BASkRHuTZI7sq9CywNC2zqr7aZ5zg4kDdmEEl5XL%2Fc75R6gQ8wTmv%2ByWbxamHWJXn6QtZZW9pFz3xMSqymkSQzsqmXK9S9hPBKM63Zu3Plnvy6DxFBhXoTr9paf8JGIC%2BRecRK0lDKZQHBCgMS0ov5wmH%2BHJblgW95oif5yXcP7t%2Fmg9hBAIHY1tv%2FTMA8GrPAd7Z%2BC8cN3DhbzdyDAQtXJMkAcv7taiJ45qhR%2FlyNSsiuvstfDedMWu%2BgjL34wozEoDiWX4RmHmv%2FsgbCHdQaEge63Cqvml6KZtZfmChrCEFN4zzxs9d%2FyKQOn3vSKpacl3EHCu4nA%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-130552682344.us-central1.cloudfunctions.appspot.com","object":"6b1513e4-3338-4226-9c5c-433d79fe2472.zip"}}
[debug] [2025-08-15T08:37:42.992Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-130552682344.us-central1.cloudfunctions.appspot.com/6b1513e4-3338-4226-9c5c-433d79fe2472.zip GoogleAccessId=service-130552682344%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1755248862&Signature=UI5xiSd4DXR%2BASkRHuTZI7sq9CywNC2zqr7aZ5zg4kDdmEEl5XL%2Fc75R6gQ8wTmv%2ByWbxamHWJXn6QtZZW9pFz3xMSqymkSQzsqmXK9S9hPBKM63Zu3Plnvy6DxFBhXoTr9paf8JGIC%2BRecRK0lDKZQHBCgMS0ov5wmH%2BHJblgW95oif5yXcP7t%2Fmg9hBAIHY1tv%2FTMA8GrPAd7Z%2BC8cN3DhbzdyDAQtXJMkAcv7taiJ45qhR%2FlyNSsiuvstfDedMWu%2BgjL34wozEoDiWX4RmHmv%2FsgbCHdQaEge63Cqvml6KZtZfmChrCEFN4zzxs9d%2FyKQOn3vSKpacl3EHCu4nA%3D%3D
[debug] [2025-08-15T08:37:42.992Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-130552682344.us-central1.cloudfunctions.appspot.com/6b1513e4-3338-4226-9c5c-433d79fe2472.zip [stream]
[debug] [2025-08-15T08:37:45.268Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-130552682344.us-central1.cloudfunctions.appspot.com/6b1513e4-3338-4226-9c5c-433d79fe2472.zip 200
[debug] [2025-08-15T08:37:45.268Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-130552682344.us-central1.cloudfunctions.appspot.com/6b1513e4-3338-4226-9c5c-433d79fe2472.zip [omitted]
[info] +  functions: functions folder uploaded successfully 
[info] i  functions: creating Node.js 18 (2nd Gen) function sendSafetyAlert(us-central1)... 
[debug] [2025-08-15T08:37:45.275Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:45.275Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:45.275Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/functions functionId=sendSafetyAlert
[debug] [2025-08-15T08:37:45.275Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/functions {"name":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","buildConfig":{"runtime":"nodejs18","entryPoint":"sendSafetyAlert","source":{"storageSource":{"bucket":"gcf-v2-uploads-130552682344.us-central1.cloudfunctions.appspot.com","object":"6b1513e4-3338-4226-9c5c-433d79fe2472.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"safelydv300classproj\",\"storageBucket\":\"safelydv300classproj.firebasestorage.app\"}","GCLOUD_PROJECT":"safelydv300classproj","EVENTARC_CLOUD_EVENT_SOURCE":"projects/safelydv300classproj/locations/us-central1/services/sendSafetyAlert","FUNCTION_TARGET":"sendSafetyAlert","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"74dd154902d663fad59100a9de06d26edc029cd6"}}
[debug] [2025-08-15T08:37:47.283Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/functions 200
[debug] [2025-08-15T08:37:47.284Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/functions {"name":"projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-15T08:37:46.724540016Z","target":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","verb":"create","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-08-15T08:37:47.285Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:47.285Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:47.285Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012 [none]
[debug] [2025-08-15T08:37:48.134Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012 200
[debug] [2025-08-15T08:37:48.134Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012 {"name":"projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-15T08:37:46.724540016Z","target":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","buildConfig":{"runtime":"nodejs18","entryPoint":"sendSafetyAlert","source":{"storageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755247066401679"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/safelydv300classproj/serviceAccounts/130552682344-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"safelydv300classproj\",\"storageBucket\":\"safelydv300classproj.firebasestorage.app\"}","GCLOUD_PROJECT":"safelydv300classproj","EVENTARC_CLOUD_EVENT_SOURCE":"projects/safelydv300classproj/locations/us-central1/services/sendSafetyAlert","FUNCTION_TARGET":"sendSafetyAlert","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"130552682344-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"74dd154902d663fad59100a9de06d26edc029cd6"},"environment":"GEN_2"},"stages":[{"name":"BUILD","state":"NOT_STARTED","stateMessages":[{"severity":"WARNING","type":"BuildAnalysisWarning","message":"Node.js 18 is no longer supported by the Node.js community as of 30 April, 2025. Node.js 18 will be decommissioned on 2025-10-30. As of 2025-10-30 you will no longer be able to deploy your Cloud Functions using nodejs18. We recommend you to upgrade to the latest version of Node.js as soon as possible."}]},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION"},"done":false}
[debug] [2025-08-15T08:37:48.636Z] [create-default-us-central1-sendSafetyAlert] Retrying task index 0
[debug] [2025-08-15T08:37:48.637Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:48.637Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:48.637Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012 [none]
[debug] [2025-08-15T08:37:49.483Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012 200
[debug] [2025-08-15T08:37:49.483Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012 {"name":"projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-15T08:37:46.724540016Z","target":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","buildConfig":{"runtime":"nodejs18","entryPoint":"sendSafetyAlert","source":{"storageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755247066401679"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/safelydv300classproj/serviceAccounts/130552682344-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"safelydv300classproj\",\"storageBucket\":\"safelydv300classproj.firebasestorage.app\"}","GCLOUD_PROJECT":"safelydv300classproj","EVENTARC_CLOUD_EVENT_SOURCE":"projects/safelydv300classproj/locations/us-central1/services/sendSafetyAlert","FUNCTION_TARGET":"sendSafetyAlert","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"130552682344-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"74dd154902d663fad59100a9de06d26edc029cd6"},"environment":"GEN_2"},"stages":[{"name":"BUILD","state":"NOT_STARTED","stateMessages":[{"severity":"WARNING","type":"BuildAnalysisWarning","message":"Node.js 18 is no longer supported by the Node.js community as of 30 April, 2025. Node.js 18 will be decommissioned on 2025-10-30. As of 2025-10-30 you will no longer be able to deploy your Cloud Functions using nodejs18. We recommend you to upgrade to the latest version of Node.js as soon as possible."}]},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION"},"done":false}
[debug] [2025-08-15T08:37:50.489Z] [create-default-us-central1-sendSafetyAlert] Retrying task index 0
[debug] [2025-08-15T08:37:50.490Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:50.490Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:50.490Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012 [none]
[debug] [2025-08-15T08:37:51.339Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012 200
[debug] [2025-08-15T08:37:51.339Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012 {"name":"projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-15T08:37:46.724540016Z","target":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","buildConfig":{"runtime":"nodejs18","entryPoint":"sendSafetyAlert","source":{"storageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755247066401679"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/safelydv300classproj/serviceAccounts/130552682344-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"safelydv300classproj\",\"storageBucket\":\"safelydv300classproj.firebasestorage.app\"}","GCLOUD_PROJECT":"safelydv300classproj","EVENTARC_CLOUD_EVENT_SOURCE":"projects/safelydv300classproj/locations/us-central1/services/sendSafetyAlert","FUNCTION_TARGET":"sendSafetyAlert","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"130552682344-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"74dd154902d663fad59100a9de06d26edc029cd6"},"environment":"GEN_2"},"stages":[{"name":"BUILD","state":"NOT_STARTED","stateMessages":[{"severity":"WARNING","type":"BuildAnalysisWarning","message":"Node.js 18 is no longer supported by the Node.js community as of 30 April, 2025. Node.js 18 will be decommissioned on 2025-10-30. As of 2025-10-30 you will no longer be able to deploy your Cloud Functions using nodejs18. We recommend you to upgrade to the latest version of Node.js as soon as possible."}]},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION"},"done":false}
[debug] [2025-08-15T08:37:53.340Z] [create-default-us-central1-sendSafetyAlert] Retrying task index 0
[debug] [2025-08-15T08:37:53.341Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:53.341Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:53.341Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012 [none]
[debug] [2025-08-15T08:37:54.188Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012 200
[debug] [2025-08-15T08:37:54.188Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012 {"name":"projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-15T08:37:46.724540016Z","target":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","buildConfig":{"runtime":"nodejs18","entryPoint":"sendSafetyAlert","source":{"storageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755247066401679"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/safelydv300classproj/serviceAccounts/130552682344-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"safelydv300classproj\",\"storageBucket\":\"safelydv300classproj.firebasestorage.app\"}","GCLOUD_PROJECT":"safelydv300classproj","EVENTARC_CLOUD_EVENT_SOURCE":"projects/safelydv300classproj/locations/us-central1/services/sendSafetyAlert","FUNCTION_TARGET":"sendSafetyAlert","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"130552682344-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"74dd154902d663fad59100a9de06d26edc029cd6"},"environment":"GEN_2"},"stages":[{"name":"BUILD","state":"NOT_STARTED","stateMessages":[{"severity":"WARNING","type":"BuildAnalysisWarning","message":"Node.js 18 is no longer supported by the Node.js community as of 30 April, 2025. Node.js 18 will be decommissioned on 2025-10-30. As of 2025-10-30 you will no longer be able to deploy your Cloud Functions using nodejs18. We recommend you to upgrade to the latest version of Node.js as soon as possible."}]},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION"},"done":false}
[debug] [2025-08-15T08:37:58.203Z] [create-default-us-central1-sendSafetyAlert] Retrying task index 0
[debug] [2025-08-15T08:37:58.205Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:58.205Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:37:58.205Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012 [none]
[debug] [2025-08-15T08:37:59.066Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012 200
[debug] [2025-08-15T08:37:59.066Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012 {"name":"projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-15T08:37:46.724540016Z","target":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","buildConfig":{"runtime":"nodejs18","entryPoint":"sendSafetyAlert","source":{"storageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755247066401679"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/safelydv300classproj/serviceAccounts/130552682344-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"safelydv300classproj\",\"storageBucket\":\"safelydv300classproj.firebasestorage.app\"}","GCLOUD_PROJECT":"safelydv300classproj","EVENTARC_CLOUD_EVENT_SOURCE":"projects/safelydv300classproj/locations/us-central1/services/sendSafetyAlert","FUNCTION_TARGET":"sendSafetyAlert","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"130552682344-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"74dd154902d663fad59100a9de06d26edc029cd6"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/130552682344/locations/us-central1/builds/2c45c6c0-f438-4eea-896d-67605d64a8f5","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/2c45c6c0-f438-4eea-896d-67605d64a8f5?project=130552682344"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/130552682344/locations/us-central1/builds/2c45c6c0-f438-4eea-896d-67605d64a8f5"},"done":false}
[debug] [2025-08-15T08:38:07.069Z] [create-default-us-central1-sendSafetyAlert] Retrying task index 0
[debug] [2025-08-15T08:38:07.070Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:38:07.070Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:38:07.070Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012 [none]
[debug] [2025-08-15T08:38:08.136Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012 200
[debug] [2025-08-15T08:38:08.136Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012 {"name":"projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-15T08:37:46.724540016Z","target":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","buildConfig":{"runtime":"nodejs18","entryPoint":"sendSafetyAlert","source":{"storageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755247066401679"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/safelydv300classproj/serviceAccounts/130552682344-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"safelydv300classproj\",\"storageBucket\":\"safelydv300classproj.firebasestorage.app\"}","GCLOUD_PROJECT":"safelydv300classproj","EVENTARC_CLOUD_EVENT_SOURCE":"projects/safelydv300classproj/locations/us-central1/services/sendSafetyAlert","FUNCTION_TARGET":"sendSafetyAlert","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"130552682344-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"74dd154902d663fad59100a9de06d26edc029cd6"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/130552682344/locations/us-central1/builds/2c45c6c0-f438-4eea-896d-67605d64a8f5","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/2c45c6c0-f438-4eea-896d-67605d64a8f5?project=130552682344"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/130552682344/locations/us-central1/builds/2c45c6c0-f438-4eea-896d-67605d64a8f5"},"done":false}
[debug] [2025-08-15T08:38:18.139Z] [create-default-us-central1-sendSafetyAlert] Retrying task index 0
[debug] [2025-08-15T08:38:18.139Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:38:18.139Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:38:18.140Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012 [none]
[debug] [2025-08-15T08:38:19.186Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012 200
[debug] [2025-08-15T08:38:19.186Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012 {"name":"projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-15T08:37:46.724540016Z","target":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","buildConfig":{"runtime":"nodejs18","entryPoint":"sendSafetyAlert","source":{"storageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755247066401679"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/safelydv300classproj/serviceAccounts/130552682344-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"safelydv300classproj\",\"storageBucket\":\"safelydv300classproj.firebasestorage.app\"}","GCLOUD_PROJECT":"safelydv300classproj","EVENTARC_CLOUD_EVENT_SOURCE":"projects/safelydv300classproj/locations/us-central1/services/sendSafetyAlert","FUNCTION_TARGET":"sendSafetyAlert","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"130552682344-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"74dd154902d663fad59100a9de06d26edc029cd6"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/130552682344/locations/us-central1/builds/2c45c6c0-f438-4eea-896d-67605d64a8f5","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/2c45c6c0-f438-4eea-896d-67605d64a8f5?project=130552682344"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/130552682344/locations/us-central1/builds/2c45c6c0-f438-4eea-896d-67605d64a8f5"},"done":false}
[debug] [2025-08-15T08:38:29.198Z] [create-default-us-central1-sendSafetyAlert] Retrying task index 0
[debug] [2025-08-15T08:38:29.198Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:38:29.198Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:38:29.199Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012 [none]
[debug] [2025-08-15T08:38:30.273Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012 200
[debug] [2025-08-15T08:38:30.273Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012 {"name":"projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-15T08:37:46.724540016Z","target":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","buildConfig":{"runtime":"nodejs18","entryPoint":"sendSafetyAlert","source":{"storageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755247066401679"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/safelydv300classproj/serviceAccounts/130552682344-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"safelydv300classproj\",\"storageBucket\":\"safelydv300classproj.firebasestorage.app\"}","GCLOUD_PROJECT":"safelydv300classproj","EVENTARC_CLOUD_EVENT_SOURCE":"projects/safelydv300classproj/locations/us-central1/services/sendSafetyAlert","FUNCTION_TARGET":"sendSafetyAlert","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"130552682344-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"74dd154902d663fad59100a9de06d26edc029cd6"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/130552682344/locations/us-central1/builds/2c45c6c0-f438-4eea-896d-67605d64a8f5","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/2c45c6c0-f438-4eea-896d-67605d64a8f5?project=130552682344"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/130552682344/locations/us-central1/builds/2c45c6c0-f438-4eea-896d-67605d64a8f5"},"done":false}
[debug] [2025-08-15T08:38:40.276Z] [create-default-us-central1-sendSafetyAlert] Retrying task index 0
[debug] [2025-08-15T08:38:40.278Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:38:40.278Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:38:40.278Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012 [none]
[debug] [2025-08-15T08:38:41.333Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012 200
[debug] [2025-08-15T08:38:41.333Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012 {"name":"projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-15T08:37:46.724540016Z","target":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","buildConfig":{"runtime":"nodejs18","entryPoint":"sendSafetyAlert","source":{"storageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755247066401679"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/safelydv300classproj/serviceAccounts/130552682344-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"safelydv300classproj\",\"storageBucket\":\"safelydv300classproj.firebasestorage.app\"}","GCLOUD_PROJECT":"safelydv300classproj","EVENTARC_CLOUD_EVENT_SOURCE":"projects/safelydv300classproj/locations/us-central1/services/sendSafetyAlert","FUNCTION_TARGET":"sendSafetyAlert","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"130552682344-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"74dd154902d663fad59100a9de06d26edc029cd6"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/130552682344/locations/us-central1/builds/2c45c6c0-f438-4eea-896d-67605d64a8f5","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/2c45c6c0-f438-4eea-896d-67605d64a8f5?project=130552682344"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/130552682344/locations/us-central1/builds/2c45c6c0-f438-4eea-896d-67605d64a8f5"},"done":false}
[debug] [2025-08-15T08:38:51.347Z] [create-default-us-central1-sendSafetyAlert] Retrying task index 0
[debug] [2025-08-15T08:38:51.348Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:38:51.348Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:38:51.348Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012 [none]
[debug] [2025-08-15T08:38:52.423Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012 200
[debug] [2025-08-15T08:38:52.423Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012 {"name":"projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-15T08:37:46.724540016Z","target":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","buildConfig":{"runtime":"nodejs18","entryPoint":"sendSafetyAlert","source":{"storageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755247066401679"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/safelydv300classproj/serviceAccounts/130552682344-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"safelydv300classproj\",\"storageBucket\":\"safelydv300classproj.firebasestorage.app\"}","GCLOUD_PROJECT":"safelydv300classproj","EVENTARC_CLOUD_EVENT_SOURCE":"projects/safelydv300classproj/locations/us-central1/services/sendSafetyAlert","FUNCTION_TARGET":"sendSafetyAlert","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"130552682344-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"74dd154902d663fad59100a9de06d26edc029cd6"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/130552682344/locations/us-central1/builds/2c45c6c0-f438-4eea-896d-67605d64a8f5","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/2c45c6c0-f438-4eea-896d-67605d64a8f5?project=130552682344"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION","buildName":"projects/130552682344/locations/us-central1/builds/2c45c6c0-f438-4eea-896d-67605d64a8f5"},"done":false}
[debug] [2025-08-15T08:39:02.436Z] [create-default-us-central1-sendSafetyAlert] Retrying task index 0
[debug] [2025-08-15T08:39:02.437Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:39:02.437Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:39:02.437Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012 [none]
[debug] [2025-08-15T08:39:03.505Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012 200
[debug] [2025-08-15T08:39:03.505Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012 {"name":"projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-15T08:37:46.724540016Z","target":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","buildConfig":{"runtime":"nodejs18","entryPoint":"sendSafetyAlert","source":{"storageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755247066401679"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/safelydv300classproj/serviceAccounts/130552682344-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"safelydv300classproj\",\"storageBucket\":\"safelydv300classproj.firebasestorage.app\"}","GCLOUD_PROJECT":"safelydv300classproj","EVENTARC_CLOUD_EVENT_SOURCE":"projects/safelydv300classproj/locations/us-central1/services/sendSafetyAlert","FUNCTION_TARGET":"sendSafetyAlert","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"130552682344-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"74dd154902d663fad59100a9de06d26edc029cd6"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/130552682344/locations/us-central1/builds/2c45c6c0-f438-4eea-896d-67605d64a8f5","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/2c45c6c0-f438-4eea-896d-67605d64a8f5?project=130552682344"},{"name":"SERVICE","message":"Creating Cloud Run service","state":"IN_PROGRESS","resource":"projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/sendsafetyalert?project=safelydv300classproj"}],"sourceToken":"Cldwcm9qZWN0cy8xMzA1NTI2ODIzNDQvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy8yYzQ1YzZjMC1mNDM4LTRlZWEtODk2ZC02NzYwNWQ2NGE4ZjUSfXVzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NhZmVseWR2MzAwY2xhc3Nwcm9qL2djZi1hcnRpZmFjdHMvc2FmZWx5ZHYzMDBjbGFzc3Byb2pfX3VzLS1jZW50cmFsMV9fc2VuZF9zYWZldHlfYWxlcnQ6dmVyc2lvbl8xGOiur6zmAyJNcHJvamVjdHMvc2FmZWx5ZHYzMDBjbGFzc3Byb2ovbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9zZW5kU2FmZXR5QWxlcnQqDAif5PvEBhCQg7OYAzIIbm9kZWpzMTg6dgojZ2NyLmlvL2dhZS1ydW50aW1lcy9ub2RlanMxODpzdGFibGUST3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NlcnZlcmxlc3MtcnVudGltZXMvZ29vZ2xlLTIyLWZ1bGwvcnVudGltZXMvbm9kZWpzMThAAQ==","operationType":"CREATE_FUNCTION","buildName":"projects/130552682344/locations/us-central1/builds/2c45c6c0-f438-4eea-896d-67605d64a8f5"},"done":false}
[debug] [2025-08-15T08:39:03.505Z] Got source token Cldwcm9qZWN0cy8xMzA1NTI2ODIzNDQvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy8yYzQ1YzZjMC1mNDM4LTRlZWEtODk2ZC02NzYwNWQ2NGE4ZjUSfXVzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NhZmVseWR2MzAwY2xhc3Nwcm9qL2djZi1hcnRpZmFjdHMvc2FmZWx5ZHYzMDBjbGFzc3Byb2pfX3VzLS1jZW50cmFsMV9fc2VuZF9zYWZldHlfYWxlcnQ6dmVyc2lvbl8xGOiur6zmAyJNcHJvamVjdHMvc2FmZWx5ZHYzMDBjbGFzc3Byb2ovbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9zZW5kU2FmZXR5QWxlcnQqDAif5PvEBhCQg7OYAzIIbm9kZWpzMTg6dgojZ2NyLmlvL2dhZS1ydW50aW1lcy9ub2RlanMxODpzdGFibGUST3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NlcnZlcmxlc3MtcnVudGltZXMvZ29vZ2xlLTIyLWZ1bGwvcnVudGltZXMvbm9kZWpzMThAAQ== for region us-central1
[debug] [2025-08-15T08:39:13.516Z] [create-default-us-central1-sendSafetyAlert] Retrying task index 0
[debug] [2025-08-15T08:39:13.517Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:39:13.517Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:39:13.517Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012 [none]
[debug] [2025-08-15T08:39:14.699Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012 200
[debug] [2025-08-15T08:39:14.699Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012 {"name":"projects/safelydv300classproj/locations/us-central1/operations/operation-1755247065612-63c634dd6c1f0-d0cc16e6-6d133012","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-15T08:37:46.724540016Z","endTime":"2025-08-15T08:39:06.866075571Z","target":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","buildConfig":{"runtime":"nodejs18","entryPoint":"sendSafetyAlert","source":{"storageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755247066401679"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"serviceAccount":"projects/safelydv300classproj/serviceAccounts/130552682344-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"safelydv300classproj\",\"storageBucket\":\"safelydv300classproj.firebasestorage.app\"}","GCLOUD_PROJECT":"safelydv300classproj","EVENTARC_CLOUD_EVENT_SOURCE":"projects/safelydv300classproj/locations/us-central1/services/sendSafetyAlert","FUNCTION_TARGET":"sendSafetyAlert","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"130552682344-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"74dd154902d663fad59100a9de06d26edc029cd6"},"environment":"GEN_2"},"stages":[{"name":"ARTIFACT_REGISTRY","message":"Deleting function artifacts in Artifact Registry","state":"COMPLETE"},{"name":"SERVICE","message":"Deleting Cloud Run service","state":"COMPLETE","resource":"projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert"}],"operationType":"CREATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Could not create or update Cloud Run service sendsafetyalert, Container Healthcheck failed. Revision 'sendsafetyalert-00001-may' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=safelydv300classproj&resource=cloud_run_revision/service_name/sendsafetyalert/revision_name/sendsafetyalert-00001-may&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22sendsafetyalert%22%0Aresource.labels.revision_name%3D%22sendsafetyalert-00001-may%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"}}
[debug] [2025-08-15T08:39:14.700Z] Got source token undefined for region us-central1
[error] Could not create or update Cloud Run service sendsafetyalert, Container Healthcheck failed. Revision 'sendsafetyalert-00001-may' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.

Logs URL: https://console.cloud.google.com/logs/viewer?project=safelydv300classproj&resource=cloud_run_revision/service_name/sendsafetyalert/revision_name/sendsafetyalert-00001-may&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22sendsafetyalert%22%0Aresource.labels.revision_name%3D%22sendsafetyalert-00001-may%22 
For more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start
[debug] [2025-08-15T08:39:14.703Z] Total Function Deployment time: 89429
[debug] [2025-08-15T08:39:14.703Z] 1 Functions Deployed
[debug] [2025-08-15T08:39:14.703Z] 1 Functions Errored
[debug] [2025-08-15T08:39:14.703Z] 0 Function Deployments Aborted
[debug] [2025-08-15T08:39:14.703Z] Average Function Deployment time: 89428
[info] 
[info] Functions deploy had errors with the following functions:
	sendSafetyAlert(us-central1)
[debug] [2025-08-15T08:39:14.707Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:39:14.707Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:39:14.707Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts [none]
[debug] [2025-08-15T08:39:16.000Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts 200
[debug] [2025-08-15T08:39:16.000Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts {"name":"projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2025-08-15T08:37:55.421836Z","updateTime":"2025-08-15T08:39:06.721042Z","mode":"STANDARD_REPOSITORY","sizeBytes":"89657648","vulnerabilityScanningConfig":{"lastEnableTime":"2025-08-15T08:37:46.936416874Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true,"registryUri":"us-central1-docker.pkg.dev/safelydv300classproj/gcf-artifacts"}
[warn] !  functions: No cleanup policy detected for repositories in us-central1. This may result in a small monthly bill as container images accumulate over time. 
[info] i  functions: Configuring cleanup policy for repository in us-central1. Images older than 20 days will be automatically deleted. 
[debug] [2025-08-15T08:45:49.484Z] Setting up artifact cleanup policy for region us-central1
[debug] [2025-08-15T08:45:49.486Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:45:49.486Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:45:49.486Z] >>> [apiv2][query] PATCH https://artifactregistry.googleapis.com/v1/projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts updateMask=name%2CcleanupPolicies%2CcleanupPolicyDryRun%2Clabels
[debug] [2025-08-15T08:45:49.486Z] >>> [apiv2][body] PATCH https://artifactregistry.googleapis.com/v1/projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts {"name":"projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts","cleanupPolicies":{"firebase-functions-cleanup":{"id":"firebase-functions-cleanup","condition":{"tagState":"ANY","olderThan":"1728000s"},"action":"DELETE"}},"cleanupPolicyDryRun":false,"labels":{"goog-managed-by":"cloudfunctions"}}
[debug] [2025-08-15T08:45:50.855Z] <<< [apiv2][status] PATCH https://artifactregistry.googleapis.com/v1/projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts 200
[debug] [2025-08-15T08:45:50.855Z] <<< [apiv2][body] PATCH https://artifactregistry.googleapis.com/v1/projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts {"name":"projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2025-08-15T08:37:55.421836Z","updateTime":"2025-08-15T08:45:50.250628Z","mode":"STANDARD_REPOSITORY","cleanupPolicies":{"firebase-functions-cleanup":{"id":"firebase-functions-cleanup","action":"DELETE","condition":{"tagState":"ANY","olderThan":"1728000s"}}},"vulnerabilityScanningConfig":{"lastEnableTime":"2025-08-15T08:37:46.936416874Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true}
[info] i  functions: Configured cleanup policy for repository in us-central1. 
[debug] [2025-08-15T08:45:50.856Z] Functions deploy failed.
[debug] [2025-08-15T08:45:50.856Z] {
  "endpoint": {
    "id": "sendSafetyAlert",
    "project": "safelydv300classproj",
    "region": "us-central1",
    "entryPoint": "sendSafetyAlert",
    "platform": "gcfv2",
    "runtime": "nodejs18",
    "callableTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"safelydv300classproj\",\"storageBucket\":\"safelydv300classproj.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "safelydv300classproj",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/safelydv300classproj/locations/us-central1/services/sendSafetyAlert"
    },
    "codebase": "default",
    "cpu": 1,
    "targetedByOnly": false,
    "hash": "74dd154902d663fad59100a9de06d26edc029cd6"
  },
  "op": "create",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Could not create or update Cloud Run service sendsafetyalert, Container Healthcheck failed. Revision 'sendsafetyalert-00001-may' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=safelydv300classproj&resource=cloud_run_revision/service_name/sendsafetyalert/revision_name/sendsafetyalert-00001-may&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22sendsafetyalert%22%0Aresource.labels.revision_name%3D%22sendsafetyalert-00001-may%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start",
    "original": {
      "code": 3,
      "message": "Could not create or update Cloud Run service sendsafetyalert, Container Healthcheck failed. Revision 'sendsafetyalert-00001-may' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=safelydv300classproj&resource=cloud_run_revision/service_name/sendsafetyalert/revision_name/sendsafetyalert-00001-may&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22sendsafetyalert%22%0Aresource.labels.revision_name%3D%22sendsafetyalert-00001-may%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2025-08-15T08:45:50.859Z] Error: Failed to create function sendSafetyAlert in region us-central1
    at C:\Users\Kurts\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:294:27
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Fabricator.createV2Function (C:\Users\Kurts\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:278:30)
    at async Fabricator.createEndpoint (C:\Users\Kurts\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:137:13)
    at async handle (C:\Users\Kurts\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:89:17)
[error] 
[error] Error: There was an error deploying functions
[debug] [2025-08-15T08:52:22.022Z] ----------------------------------------------------------------------
[debug] [2025-08-15T08:52:22.026Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Kurts\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions --debug
[debug] [2025-08-15T08:52:22.027Z] CLI Version:   14.12.0
[debug] [2025-08-15T08:52:22.027Z] Platform:      win32
[debug] [2025-08-15T08:52:22.027Z] Node Version:  v22.17.0
[debug] [2025-08-15T08:52:22.028Z] Time:          Fri Aug 15 2025 10:52:22 GMT+0200 (South Africa Standard Time)
[debug] [2025-08-15T08:52:22.028Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-08-15T08:52:22.381Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-08-15T08:52:22.384Z] > authorizing via signed-in user (231002@virtualwindow.co.za)
[debug] [2025-08-15T08:52:22.384Z] [iam] checking project safelydv300classproj for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-08-15T08:52:22.387Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:52:22.387Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:52:22.389Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions [none]
[debug] [2025-08-15T08:52:22.390Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions x-goog-quota-user=projects/safelydv300classproj
[debug] [2025-08-15T08:52:22.390Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-08-15T08:52:24.330Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions 200
[debug] [2025-08-15T08:52:24.331Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-08-15T08:52:24.332Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:52:24.332Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:52:24.332Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/safelydv300classproj/serviceAccounts/safelydv300classproj@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-08-15T08:52:24.333Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/safelydv300classproj/serviceAccounts/safelydv300classproj@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-08-15T08:52:26.144Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/safelydv300classproj/serviceAccounts/safelydv300classproj@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-08-15T08:52:26.145Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/safelydv300classproj/serviceAccounts/safelydv300classproj@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'safelydv300classproj'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run build
[info] +  functions: Finished running predeploy script. 
[debug] [2025-08-15T08:52:41.646Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:52:41.646Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:52:41.647Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj [none]
[debug] [2025-08-15T08:52:43.335Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj 200
[debug] [2025-08-15T08:52:43.335Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj {"projectNumber":"130552682344","projectId":"safelydv300classproj","lifecycleState":"ACTIVE","name":"SafelyDV300ClassProj","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-07-23T12:41:51.344134Z","parent":{"type":"organization","id":"302473745500"}}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-08-15T08:52:43.340Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:52:43.340Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:52:43.341Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/safelydv300classproj/adminSdkConfig [none]
[debug] [2025-08-15T08:52:44.451Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/safelydv300classproj/adminSdkConfig 200
[debug] [2025-08-15T08:52:44.451Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/safelydv300classproj/adminSdkConfig {"projectId":"safelydv300classproj","storageBucket":"safelydv300classproj.firebasestorage.app"}
[debug] [2025-08-15T08:52:44.452Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:52:44.452Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:52:44.453Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs [none]
[debug] [2025-08-15T08:52:45.161Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs 200
[debug] [2025-08-15T08:52:45.162Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs {"configs":[{"name":"projects/safelydv300classproj/configs/twilio"}]}
[debug] [2025-08-15T08:52:45.163Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:52:45.165Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:52:45.166Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables [none]
[debug] [2025-08-15T08:52:45.518Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables 200
[debug] [2025-08-15T08:52:45.518Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables {"variables":[{"name":"projects/safelydv300classproj/configs/twilio/variables/sid","updateTime":"2025-08-15T08:19:48.653333037Z"},{"name":"projects/safelydv300classproj/configs/twilio/variables/token","updateTime":"2025-08-15T08:19:48.557720098Z"},{"name":"projects/safelydv300classproj/configs/twilio/variables/phone","updateTime":"2025-08-15T08:19:49.249365924Z"}]}
[debug] [2025-08-15T08:52:45.519Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:52:45.519Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:52:45.520Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:52:45.520Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:52:45.520Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:52:45.521Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:52:45.521Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/sid [none]
[debug] [2025-08-15T08:52:45.522Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/token [none]
[debug] [2025-08-15T08:52:45.525Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/phone [none]
[debug] [2025-08-15T08:52:45.900Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/sid 200
[debug] [2025-08-15T08:52:45.900Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/sid {"name":"projects/safelydv300classproj/configs/twilio/variables/sid","updateTime":"2025-08-15T08:19:48.653333037Z","text":"AC38bcdf250494984c1615c5434321ce20"}
[debug] [2025-08-15T08:52:46.065Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/token 200
[debug] [2025-08-15T08:52:46.066Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/token {"name":"projects/safelydv300classproj/configs/twilio/variables/token","updateTime":"2025-08-15T08:19:48.557720098Z","text":"732fdc2a73d71ac2fe25e4cae3619046"}
[debug] [2025-08-15T08:52:46.079Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/phone 200
[debug] [2025-08-15T08:52:46.080Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/phone {"name":"projects/safelydv300classproj/configs/twilio/variables/phone","updateTime":"2025-08-15T08:19:49.249365924Z","text":"+17125263759"}
[debug] [2025-08-15T08:52:46.083Z] Validating nodejs source
[warn] !  functions: Runtime Node.js 18 was deprecated on 2025-04-30 and will be decommissioned on 2025-10-30, after which you will not be able to deploy without upgrading. Consider upgrading now to avoid disruption. See https://cloud.google.com/functions/docs/runtime-support for full details on the lifecycle policy 
[debug] [2025-08-15T08:52:48.498Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.7.0",
    "firebase-functions": "^6.4.0",
    "twilio": "^5.8.0"
  },
  "devDependencies": {
    "@types/node": "^24.2.1",
    "@types/twilio": "^3.19.3",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-08-15T08:52:48.499Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-08-15T08:52:48.501Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-15T08:52:48.519Z] Found firebase-functions binary at 'C:\Users\Kurts\OneDrive\Documents\GitHub\SafelyApp\safelyApp\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8058

[debug] [2025-08-15T08:52:50.857Z] Got response from /__/functions.yaml {"endpoints":{"sendSafetyAlert":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"sendSafetyAlert"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-08-15T08:52:54.919Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-08-15T08:52:54.919Z] > authorizing via signed-in user (231002@virtualwindow.co.za)
[debug] [2025-08-15T08:52:54.919Z] [iam] checking project safelydv300classproj for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-08-15T08:52:54.920Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:52:54.920Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:52:54.920Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions [none]
[debug] [2025-08-15T08:52:54.921Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions x-goog-quota-user=projects/safelydv300classproj
[debug] [2025-08-15T08:52:54.921Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-08-15T08:52:56.617Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions 200
[debug] [2025-08-15T08:52:56.618Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-08-15T08:52:56.619Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:52:56.619Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:52:56.620Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/safelydv300classproj/instances pageSize=100&pageToken=
[debug] [2025-08-15T08:52:58.561Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/safelydv300classproj/instances 200
[debug] [2025-08-15T08:52:58.561Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/safelydv300classproj/instances {}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged C:\Users\Kurts\OneDrive\Documents\GitHub\SafelyApp\safelyApp\functions (71.68 KB) for uploading 
[debug] [2025-08-15T08:52:58.634Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:52:58.634Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:52:58.635Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/safelydv300classproj/locations/-/functions [none]
[debug] [2025-08-15T08:52:59.692Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/safelydv300classproj/locations/-/functions 200
[debug] [2025-08-15T08:52:59.693Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/safelydv300classproj/locations/-/functions {}
[debug] [2025-08-15T08:52:59.694Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:52:59.694Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:52:59.694Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-08-15T08:53:00.829Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/-/functions 200
[debug] [2025-08-15T08:53:00.830Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/-/functions {"functions":[{"name":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","buildConfig":{"build":"projects/130552682344/locations/us-central1/builds/2c45c6c0-f438-4eea-896d-67605d64a8f5","runtime":"nodejs18","entryPoint":"sendSafetyAlert","source":{"storageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755247066401679"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755247066401679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/safelydv300classproj/serviceAccounts/130552682344-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"state":"FAILED","updateTime":"2025-08-15T08:39:06.875253723Z","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"74dd154902d663fad59100a9de06d26edc029cd6"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-safelydv300classproj.cloudfunctions.net/sendSafetyAlert","createTime":"2025-08-15T08:37:46.719308281Z","satisfiesPzi":true}]}
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2025-08-15T08:53:00.848Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:53:00.848Z] Checked if tokens are valid: true, expires at: 1755249583824
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2025-08-15T08:53:00.849Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:53:00.849Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:53:00.850Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2025-08-15T08:53:00.850Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/pubsub.googleapis.com:generateServiceIdentity x-goog-quota-user=projects/130552682344
[debug] [2025-08-15T08:53:00.850Z] >>> [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/pubsub.googleapis.com:generateServiceIdentity {}
[debug] [2025-08-15T08:53:00.852Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2025-08-15T08:53:00.852Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/eventarc.googleapis.com:generateServiceIdentity x-goog-quota-user=projects/130552682344
[debug] [2025-08-15T08:53:00.852Z] >>> [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/eventarc.googleapis.com:generateServiceIdentity {}
[debug] [2025-08-15T08:53:02.881Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2025-08-15T08:53:02.881Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-130552682344@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"104055372893774142735"}}
[debug] [2025-08-15T08:53:02.893Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2025-08-15T08:53:02.893Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-130552682344@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"111320861835567362679"}}
[debug] [2025-08-15T08:53:02.897Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:53:02.897Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:53:02.898Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj [none]
[debug] [2025-08-15T08:53:04.570Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj 200
[debug] [2025-08-15T08:53:04.571Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj {"projectNumber":"130552682344","projectId":"safelydv300classproj","lifecycleState":"ACTIVE","name":"SafelyDV300ClassProj","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-07-23T12:41:51.344134Z","parent":{"type":"organization","id":"302473745500"}}
[debug] [2025-08-15T08:53:04.572Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:53:04.572Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:53:04.572Z] >>> [apiv2][query] GET https://compute.googleapis.com/compute/v1/projects/130552682344 [none]
[debug] [2025-08-15T08:53:05.247Z] <<< [apiv2][status] GET https://compute.googleapis.com/compute/v1/projects/130552682344 403
[debug] [2025-08-15T08:53:05.247Z] <<< [apiv2][body] GET https://compute.googleapis.com/compute/v1/projects/130552682344 {"error":{"code":403,"message":"Compute Engine API has not been used in project 130552682344 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=130552682344 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","errors":[{"message":"Compute Engine API has not been used in project 130552682344 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=130552682344 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","domain":"usageLimits","reason":"accessNotConfigured","extendedHelp":"https://console.developers.google.com"}],"status":"PERMISSION_DENIED","details":[{"@type":"type.googleapis.com/google.rpc.ErrorInfo","reason":"SERVICE_DISABLED","domain":"googleapis.com","metadata":{"service":"compute.googleapis.com","consumer":"projects/130552682344","activationUrl":"https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=130552682344","containerInfo":"130552682344","serviceTitle":"Compute Engine API"}},{"@type":"type.googleapis.com/google.rpc.LocalizedMessage","locale":"en-US","message":"Compute Engine API has not been used in project 130552682344 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=130552682344 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry."},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Google developers console API activation","url":"https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=130552682344"}]}]}}
[debug] [2025-08-15T08:53:05.248Z] unable to look up default compute service account. Falling back to 130552682344-compute@developer.gserviceaccount.com. Error: {"name":"FirebaseError","children":[],"context":{"body":{"error":{"code":403,"message":"Compute Engine API has not been used in project 130552682344 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=130552682344 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","errors":[{"message":"Compute Engine API has not been used in project 130552682344 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=130552682344 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","domain":"usageLimits","reason":"accessNotConfigured","extendedHelp":"https://console.developers.google.com"}],"status":"PERMISSION_DENIED","details":[{"@type":"type.googleapis.com/google.rpc.ErrorInfo","reason":"SERVICE_DISABLED","domain":"googleapis.com","metadata":{"service":"compute.googleapis.com","consumer":"projects/130552682344","activationUrl":"https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=130552682344","containerInfo":"130552682344","serviceTitle":"Compute Engine API"}},{"@type":"type.googleapis.com/google.rpc.LocalizedMessage","locale":"en-US","message":"Compute Engine API has not been used in project 130552682344 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=130552682344 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry."},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Google developers console API activation","url":"https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=130552682344"}]}]}},"response":{"statusCode":403}},"exit":1,"message":"Request to https://compute.googleapis.com/compute/v1/projects/130552682344 had HTTP Error: 403, Compute Engine API has not been used in project 130552682344 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=130552682344 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","status":403}
[debug] [2025-08-15T08:53:05.249Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:53:05.249Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:53:05.250Z] >>> [apiv2][query] GET https://compute.googleapis.com/compute/v1/projects/130552682344 [none]
[debug] [2025-08-15T08:53:05.549Z] <<< [apiv2][status] GET https://compute.googleapis.com/compute/v1/projects/130552682344 403
[debug] [2025-08-15T08:53:05.549Z] <<< [apiv2][body] GET https://compute.googleapis.com/compute/v1/projects/130552682344 {"error":{"code":403,"message":"Compute Engine API has not been used in project 130552682344 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=130552682344 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","errors":[{"message":"Compute Engine API has not been used in project 130552682344 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=130552682344 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","domain":"usageLimits","reason":"accessNotConfigured","extendedHelp":"https://console.developers.google.com"}],"status":"PERMISSION_DENIED","details":[{"@type":"type.googleapis.com/google.rpc.ErrorInfo","reason":"SERVICE_DISABLED","domain":"googleapis.com","metadata":{"serviceTitle":"Compute Engine API","activationUrl":"https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=130552682344","service":"compute.googleapis.com","consumer":"projects/130552682344","containerInfo":"130552682344"}},{"@type":"type.googleapis.com/google.rpc.LocalizedMessage","locale":"en-US","message":"Compute Engine API has not been used in project 130552682344 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=130552682344 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry."},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Google developers console API activation","url":"https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=130552682344"}]}]}}
[debug] [2025-08-15T08:53:05.550Z] unable to look up default compute service account. Falling back to 130552682344-compute@developer.gserviceaccount.com. Error: {"name":"FirebaseError","children":[],"context":{"body":{"error":{"code":403,"message":"Compute Engine API has not been used in project 130552682344 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=130552682344 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","errors":[{"message":"Compute Engine API has not been used in project 130552682344 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=130552682344 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","domain":"usageLimits","reason":"accessNotConfigured","extendedHelp":"https://console.developers.google.com"}],"status":"PERMISSION_DENIED","details":[{"@type":"type.googleapis.com/google.rpc.ErrorInfo","reason":"SERVICE_DISABLED","domain":"googleapis.com","metadata":{"serviceTitle":"Compute Engine API","activationUrl":"https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=130552682344","service":"compute.googleapis.com","consumer":"projects/130552682344","containerInfo":"130552682344"}},{"@type":"type.googleapis.com/google.rpc.LocalizedMessage","locale":"en-US","message":"Compute Engine API has not been used in project 130552682344 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=130552682344 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry."},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Google developers console API activation","url":"https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=130552682344"}]}]}},"response":{"statusCode":403}},"exit":1,"message":"Request to https://compute.googleapis.com/compute/v1/projects/130552682344 had HTTP Error: 403, Compute Engine API has not been used in project 130552682344 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/compute.googleapis.com/overview?project=130552682344 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.","status":403}
[debug] [2025-08-15T08:53:05.553Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:53:05.553Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:53:05.554Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/safelydv300classproj/billingInfo [none]
[debug] [2025-08-15T08:53:06.503Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/safelydv300classproj/billingInfo 200
[debug] [2025-08-15T08:53:06.504Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/safelydv300classproj/billingInfo {"name":"projects/safelydv300classproj/billingInfo","projectId":"safelydv300classproj","billingAccountName":"billingAccounts/01E9CC-CBD959-768D9C","billingEnabled":true}
[info] i  functions: updating Node.js 18 (2nd Gen) function sendSafetyAlert(us-central1)... 
[debug] [2025-08-15T08:53:06.511Z] Precondition failed. Cannot update a GCFv2 function without storage
[debug] [2025-08-15T08:53:06.514Z] Total Function Deployment time: 2
[debug] [2025-08-15T08:53:06.514Z] 1 Functions Deployed
[debug] [2025-08-15T08:53:06.514Z] 1 Functions Errored
[debug] [2025-08-15T08:53:06.514Z] 0 Function Deployments Aborted
[debug] [2025-08-15T08:53:06.515Z] Average Function Deployment time: 1
[info] 
[info] Functions deploy had errors with the following functions:
	sendSafetyAlert(us-central1)
[debug] [2025-08-15T08:53:06.517Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:53:06.518Z] Checked if tokens are valid: true, expires at: 1755249583824
[debug] [2025-08-15T08:53:06.518Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts [none]
[debug] [2025-08-15T08:53:07.777Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts 200
[debug] [2025-08-15T08:53:07.777Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts {"name":"projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2025-08-15T08:37:55.421836Z","updateTime":"2025-08-15T08:45:50.250628Z","mode":"STANDARD_REPOSITORY","cleanupPolicies":{"firebase-functions-cleanup":{"id":"firebase-functions-cleanup","action":"DELETE","condition":{"tagState":"ANY","olderThan":"1728000s"}}},"sizeBytes":"89657648","vulnerabilityScanningConfig":{"lastEnableTime":"2025-08-15T08:37:46.936416874Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true,"registryUri":"us-central1-docker.pkg.dev/safelydv300classproj/gcf-artifacts"}
[debug] [2025-08-15T08:53:07.778Z] Functions deploy failed.
[debug] [2025-08-15T08:53:07.778Z] {}
[debug] [2025-08-15T08:53:07.780Z] Error: Precondition failed
    at Fabricator.updateV2Function (C:\Users\Kurts\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:382:19)
    at Fabricator.updateEndpoint (C:\Users\Kurts\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:155:24)
    at C:\Users\Kurts\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:110:71
    at handle (C:\Users\Kurts\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:89:23)
    at Fabricator.applyChangeset (C:\Users\Kurts\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:110:26)
    at C:\Users\Kurts\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:69:40
    at Array.map (<anonymous>)
    at Fabricator.applyPlan (C:\Users\Kurts\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:68:54)
    at release (C:\Users\Kurts\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\index.js:76:31)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[error] 
[error] Error: There was an error deploying functions
[debug] [2025-08-15T09:09:12.956Z] ----------------------------------------------------------------------
[debug] [2025-08-15T09:09:12.968Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Kurts\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions --debug
[debug] [2025-08-15T09:09:12.969Z] CLI Version:   14.12.0
[debug] [2025-08-15T09:09:12.969Z] Platform:      win32
[debug] [2025-08-15T09:09:12.969Z] Node Version:  v22.17.0
[debug] [2025-08-15T09:09:12.970Z] Time:          Fri Aug 15 2025 11:09:12 GMT+0200 (South Africa Standard Time)
[debug] [2025-08-15T09:09:12.971Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-08-15T09:09:13.322Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-08-15T09:09:13.325Z] > authorizing via signed-in user (231002@virtualwindow.co.za)
[debug] [2025-08-15T09:09:13.325Z] [iam] checking project safelydv300classproj for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-08-15T09:09:13.328Z] Checked if tokens are valid: false, expires at: 1755249583824
[debug] [2025-08-15T09:09:13.329Z] Checked if tokens are valid: false, expires at: 1755249583824
[debug] [2025-08-15T09:09:13.329Z] > refreshing access token with scopes: []
[debug] [2025-08-15T09:09:13.333Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2025-08-15T09:09:13.333Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-08-15T09:09:13.873Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2025-08-15T09:09:13.874Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-08-15T09:09:13.900Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions [none]
[debug] [2025-08-15T09:09:13.900Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions x-goog-quota-user=projects/safelydv300classproj
[debug] [2025-08-15T09:09:13.901Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-08-15T09:09:15.782Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions 200
[debug] [2025-08-15T09:09:15.782Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-08-15T09:09:15.783Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:09:15.783Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:09:15.784Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/safelydv300classproj/serviceAccounts/safelydv300classproj@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-08-15T09:09:15.784Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/safelydv300classproj/serviceAccounts/safelydv300classproj@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-08-15T09:09:17.638Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/safelydv300classproj/serviceAccounts/safelydv300classproj@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-08-15T09:09:17.639Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/safelydv300classproj/serviceAccounts/safelydv300classproj@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'safelydv300classproj'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run build
[info] +  functions: Finished running predeploy script. 
[debug] [2025-08-15T09:09:31.959Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:09:31.960Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:09:31.960Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj [none]
[debug] [2025-08-15T09:09:33.712Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj 200
[debug] [2025-08-15T09:09:33.712Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj {"projectNumber":"130552682344","projectId":"safelydv300classproj","lifecycleState":"ACTIVE","name":"SafelyDV300ClassProj","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-07-23T12:41:51.344134Z","parent":{"type":"organization","id":"302473745500"}}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-08-15T09:09:33.726Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:09:33.727Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:09:33.727Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/safelydv300classproj/adminSdkConfig [none]
[debug] [2025-08-15T09:09:34.531Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/safelydv300classproj/adminSdkConfig 200
[debug] [2025-08-15T09:09:34.531Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/safelydv300classproj/adminSdkConfig {"projectId":"safelydv300classproj","storageBucket":"safelydv300classproj.firebasestorage.app"}
[debug] [2025-08-15T09:09:34.532Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:09:34.533Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:09:34.533Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs [none]
[debug] [2025-08-15T09:09:35.267Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs 200
[debug] [2025-08-15T09:09:35.268Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs {"configs":[{"name":"projects/safelydv300classproj/configs/twilio"}]}
[debug] [2025-08-15T09:09:35.268Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:09:35.269Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:09:35.269Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables [none]
[debug] [2025-08-15T09:09:35.648Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables 200
[debug] [2025-08-15T09:09:35.649Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables {"variables":[{"name":"projects/safelydv300classproj/configs/twilio/variables/phone","updateTime":"2025-08-15T08:19:49.249365924Z"},{"name":"projects/safelydv300classproj/configs/twilio/variables/sid","updateTime":"2025-08-15T08:19:48.653333037Z"},{"name":"projects/safelydv300classproj/configs/twilio/variables/token","updateTime":"2025-08-15T08:19:48.557720098Z"}]}
[debug] [2025-08-15T09:09:35.649Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:09:35.650Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:09:35.650Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:09:35.651Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:09:35.651Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:09:35.651Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:09:35.652Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/phone [none]
[debug] [2025-08-15T09:09:35.653Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/sid [none]
[debug] [2025-08-15T09:09:35.657Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/token [none]
[debug] [2025-08-15T09:09:36.203Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/token 200
[debug] [2025-08-15T09:09:36.204Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/token {"name":"projects/safelydv300classproj/configs/twilio/variables/token","updateTime":"2025-08-15T08:19:48.557720098Z","text":"732fdc2a73d71ac2fe25e4cae3619046"}
[debug] [2025-08-15T09:09:36.209Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/sid 200
[debug] [2025-08-15T09:09:36.210Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/sid {"name":"projects/safelydv300classproj/configs/twilio/variables/sid","updateTime":"2025-08-15T08:19:48.653333037Z","text":"AC38bcdf250494984c1615c5434321ce20"}
[debug] [2025-08-15T09:09:36.498Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/phone 200
[debug] [2025-08-15T09:09:36.499Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/phone {"name":"projects/safelydv300classproj/configs/twilio/variables/phone","updateTime":"2025-08-15T08:19:49.249365924Z","text":"+17125263759"}
[debug] [2025-08-15T09:09:36.502Z] Validating nodejs source
[warn] !  functions: Runtime Node.js 18 was deprecated on 2025-04-30 and will be decommissioned on 2025-10-30, after which you will not be able to deploy without upgrading. Consider upgrading now to avoid disruption. See https://cloud.google.com/functions/docs/runtime-support for full details on the lifecycle policy 
[debug] [2025-08-15T09:09:38.652Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.7.0",
    "firebase-functions": "^6.4.0",
    "twilio": "^5.8.0"
  },
  "devDependencies": {
    "@types/node": "^24.2.1",
    "@types/twilio": "^3.19.3",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-08-15T09:09:38.653Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-08-15T09:09:38.655Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-15T09:09:38.673Z] Found firebase-functions binary at 'C:\Users\Kurts\OneDrive\Documents\GitHub\SafelyApp\safelyApp\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8034

[debug] [2025-08-15T09:09:40.890Z] Got response from /__/functions.yaml {"endpoints":{"sendSafetyAlert":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"sendSafetyAlert"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-08-15T09:09:44.951Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-08-15T09:09:44.952Z] > authorizing via signed-in user (231002@virtualwindow.co.za)
[debug] [2025-08-15T09:09:44.952Z] [iam] checking project safelydv300classproj for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-08-15T09:09:44.952Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:09:44.952Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:09:44.953Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions [none]
[debug] [2025-08-15T09:09:44.953Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions x-goog-quota-user=projects/safelydv300classproj
[debug] [2025-08-15T09:09:44.953Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-08-15T09:09:46.580Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions 200
[debug] [2025-08-15T09:09:46.580Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-08-15T09:09:46.581Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:09:46.581Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:09:46.582Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/safelydv300classproj/instances pageSize=100&pageToken=
[debug] [2025-08-15T09:09:48.492Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/safelydv300classproj/instances 200
[debug] [2025-08-15T09:09:48.493Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/safelydv300classproj/instances {}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged C:\Users\Kurts\OneDrive\Documents\GitHub\SafelyApp\safelyApp\functions (71.68 KB) for uploading 
[debug] [2025-08-15T09:09:48.563Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:09:48.563Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:09:48.563Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/safelydv300classproj/locations/-/functions [none]
[debug] [2025-08-15T09:09:49.636Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/safelydv300classproj/locations/-/functions 200
[debug] [2025-08-15T09:09:49.636Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/safelydv300classproj/locations/-/functions {}
[debug] [2025-08-15T09:09:49.637Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:09:49.637Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:09:49.638Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-08-15T09:09:50.740Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/-/functions 200
[debug] [2025-08-15T09:09:50.740Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/-/functions {"functions":[{"name":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","buildConfig":{"build":"projects/130552682344/locations/us-central1/builds/2c45c6c0-f438-4eea-896d-67605d64a8f5","runtime":"nodejs18","entryPoint":"sendSafetyAlert","source":{"storageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755247066401679"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755247066401679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/safelydv300classproj/serviceAccounts/130552682344-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"state":"FAILED","updateTime":"2025-08-15T08:39:06.875253723Z","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"74dd154902d663fad59100a9de06d26edc029cd6"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-safelydv300classproj.cloudfunctions.net/sendSafetyAlert","createTime":"2025-08-15T08:37:46.719308281Z","satisfiesPzi":true}]}
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2025-08-15T09:09:50.748Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:09:50.748Z] Checked if tokens are valid: true, expires at: 1755252552875
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2025-08-15T09:09:50.749Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:09:50.749Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:09:50.749Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2025-08-15T09:09:50.749Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/pubsub.googleapis.com:generateServiceIdentity x-goog-quota-user=projects/130552682344
[debug] [2025-08-15T09:09:50.750Z] >>> [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/pubsub.googleapis.com:generateServiceIdentity {}
[debug] [2025-08-15T09:09:50.752Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2025-08-15T09:09:50.752Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/eventarc.googleapis.com:generateServiceIdentity x-goog-quota-user=projects/130552682344
[debug] [2025-08-15T09:09:50.752Z] >>> [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/eventarc.googleapis.com:generateServiceIdentity {}
[debug] [2025-08-15T09:09:52.585Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/eventarc.googleapis.com:generateServiceIdentity 429
[debug] [2025-08-15T09:09:52.585Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/eventarc.googleapis.com:generateServiceIdentity {"error":{"code":429,"message":"Quota exceeded for quota metric 'Mutate requests' and limit 'Mutate requests per minute' of service 'serviceusage.googleapis.com' for consumer 'project_number:563584335869'.","status":"RESOURCE_EXHAUSTED","details":[{"@type":"type.googleapis.com/google.rpc.ErrorInfo","reason":"RATE_LIMIT_EXCEEDED","domain":"googleapis.com","metadata":{"quota_location":"global","consumer":"projects/563584335869","quota_unit":"1/min/{project}","quota_limit_value":"120","quota_metric":"serviceusage.googleapis.com/mutate_requests","service":"serviceusage.googleapis.com","quota_limit":"MutateRequestsPerMinutePerProject"}},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Request a higher quota limit.","url":"https://cloud.google.com/docs/quotas/help/request_increase"}]}]}}
[debug] [2025-08-15T09:09:52.588Z] FirebaseError: Request to https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/eventarc.googleapis.com:generateServiceIdentity had HTTP Error: 429, Quota exceeded for quota metric 'Mutate requests' and limit 'Mutate requests per minute' of service 'serviceusage.googleapis.com' for consumer 'project_number:563584335869'.
    at responseToError (C:\Users\Kurts\AppData\Roaming\npm\node_modules\firebase-tools\lib\responseToError.js:52:12)
    at RetryOperation._fn (C:\Users\Kurts\AppData\Roaming\npm\node_modules\firebase-tools\lib\apiv2.js:312:77)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[error] 
[error] Error: Error generating the service identity for eventarc.googleapis.com.
[debug] [2025-08-15T09:09:52.592Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/pubsub.googleapis.com:generateServiceIdentity 429
[debug] [2025-08-15T09:09:52.592Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/pubsub.googleapis.com:generateServiceIdentity {"error":{"code":429,"message":"Quota exceeded for quota metric 'Mutate requests' and limit 'Mutate requests per minute' of service 'serviceusage.googleapis.com' for consumer 'project_number:563584335869'.","status":"RESOURCE_EXHAUSTED","details":[{"@type":"type.googleapis.com/google.rpc.ErrorInfo","reason":"RATE_LIMIT_EXCEEDED","domain":"googleapis.com","metadata":{"quota_metric":"serviceusage.googleapis.com/mutate_requests","consumer":"projects/563584335869","quota_limit_value":"120","quota_limit":"MutateRequestsPerMinutePerProject","service":"serviceusage.googleapis.com","quota_unit":"1/min/{project}","quota_location":"global"}},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Request a higher quota limit.","url":"https://cloud.google.com/docs/quotas/help/request_increase"}]}]}}
[debug] [2025-08-15T09:26:21.028Z] ----------------------------------------------------------------------
[debug] [2025-08-15T09:26:21.038Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Kurts\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions
[debug] [2025-08-15T09:26:21.039Z] CLI Version:   14.12.0
[debug] [2025-08-15T09:26:21.039Z] Platform:      win32
[debug] [2025-08-15T09:26:21.039Z] Node Version:  v22.17.0
[debug] [2025-08-15T09:26:21.040Z] Time:          Fri Aug 15 2025 11:26:21 GMT+0200 (South Africa Standard Time)
[debug] [2025-08-15T09:26:21.040Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-08-15T09:26:21.394Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-08-15T09:26:21.395Z] > authorizing via signed-in user (231002@virtualwindow.co.za)
[debug] [2025-08-15T09:26:21.395Z] [iam] checking project safelydv300classproj for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-08-15T09:26:21.398Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:26:21.398Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:26:21.399Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions [none]
[debug] [2025-08-15T09:26:21.400Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions x-goog-quota-user=projects/safelydv300classproj
[debug] [2025-08-15T09:26:21.400Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-08-15T09:26:23.336Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions 200
[debug] [2025-08-15T09:26:23.336Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-08-15T09:26:23.337Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:26:23.337Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:26:23.337Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/safelydv300classproj/serviceAccounts/safelydv300classproj@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-08-15T09:26:23.337Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/safelydv300classproj/serviceAccounts/safelydv300classproj@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-08-15T09:26:25.166Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/safelydv300classproj/serviceAccounts/safelydv300classproj@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-08-15T09:26:25.167Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/safelydv300classproj/serviceAccounts/safelydv300classproj@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'safelydv300classproj'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run build
[info] +  functions: Finished running predeploy script. 
[debug] [2025-08-15T09:26:39.397Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:26:39.397Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:26:39.398Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj [none]
[debug] [2025-08-15T09:26:41.066Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj 200
[debug] [2025-08-15T09:26:41.066Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj {"projectNumber":"130552682344","projectId":"safelydv300classproj","lifecycleState":"ACTIVE","name":"SafelyDV300ClassProj","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-07-23T12:41:51.344134Z","parent":{"type":"organization","id":"302473745500"}}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-08-15T09:26:41.073Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:26:41.073Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:26:41.073Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/safelydv300classproj/adminSdkConfig [none]
[debug] [2025-08-15T09:26:41.811Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/safelydv300classproj/adminSdkConfig 200
[debug] [2025-08-15T09:26:41.811Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/safelydv300classproj/adminSdkConfig {"projectId":"safelydv300classproj","storageBucket":"safelydv300classproj.firebasestorage.app"}
[debug] [2025-08-15T09:26:41.812Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:26:41.812Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:26:41.812Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs [none]
[debug] [2025-08-15T09:26:42.527Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs 200
[debug] [2025-08-15T09:26:42.527Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs {"configs":[{"name":"projects/safelydv300classproj/configs/twilio"}]}
[debug] [2025-08-15T09:26:42.528Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:26:42.528Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:26:42.528Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables [none]
[debug] [2025-08-15T09:26:42.883Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables 200
[debug] [2025-08-15T09:26:42.883Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables {"variables":[{"name":"projects/safelydv300classproj/configs/twilio/variables/phone","updateTime":"2025-08-15T08:19:49.249365924Z"},{"name":"projects/safelydv300classproj/configs/twilio/variables/sid","updateTime":"2025-08-15T08:19:48.653333037Z"},{"name":"projects/safelydv300classproj/configs/twilio/variables/token","updateTime":"2025-08-15T08:19:48.557720098Z"}]}
[debug] [2025-08-15T09:26:42.884Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:26:42.884Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:26:42.884Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:26:42.884Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:26:42.884Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:26:42.884Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:26:42.885Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/phone [none]
[debug] [2025-08-15T09:26:42.885Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/sid [none]
[debug] [2025-08-15T09:26:42.888Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/token [none]
[debug] [2025-08-15T09:26:43.252Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/phone 200
[debug] [2025-08-15T09:26:43.252Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/phone {"name":"projects/safelydv300classproj/configs/twilio/variables/phone","updateTime":"2025-08-15T08:19:49.249365924Z","text":"+17125263759"}
[debug] [2025-08-15T09:26:43.422Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/sid 200
[debug] [2025-08-15T09:26:43.422Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/sid {"name":"projects/safelydv300classproj/configs/twilio/variables/sid","updateTime":"2025-08-15T08:19:48.653333037Z","text":"AC38bcdf250494984c1615c5434321ce20"}
[debug] [2025-08-15T09:26:43.524Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/token 200
[debug] [2025-08-15T09:26:43.524Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/token {"name":"projects/safelydv300classproj/configs/twilio/variables/token","updateTime":"2025-08-15T08:19:48.557720098Z","text":"732fdc2a73d71ac2fe25e4cae3619046"}
[debug] [2025-08-15T09:26:43.527Z] Validating nodejs source
[warn] !  functions: Runtime Node.js 18 was deprecated on 2025-04-30 and will be decommissioned on 2025-10-30, after which you will not be able to deploy without upgrading. Consider upgrading now to avoid disruption. See https://cloud.google.com/functions/docs/runtime-support for full details on the lifecycle policy 
[debug] [2025-08-15T09:26:45.791Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.7.0",
    "firebase-functions": "^6.4.0",
    "twilio": "^5.8.0"
  },
  "devDependencies": {
    "@types/node": "^24.2.1",
    "@types/twilio": "^3.19.3",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-08-15T09:26:45.792Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-08-15T09:26:45.794Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-15T09:26:45.812Z] Found firebase-functions binary at 'C:\Users\Kurts\OneDrive\Documents\GitHub\SafelyApp\safelyApp\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8524

[debug] [2025-08-15T09:26:48.087Z] Got response from /__/functions.yaml {"endpoints":{"sendSafetyAlert":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"sendSafetyAlert"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-08-15T09:26:52.140Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-08-15T09:26:52.141Z] > authorizing via signed-in user (231002@virtualwindow.co.za)
[debug] [2025-08-15T09:26:52.141Z] [iam] checking project safelydv300classproj for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-08-15T09:26:52.141Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:26:52.141Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:26:52.141Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions [none]
[debug] [2025-08-15T09:26:52.142Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions x-goog-quota-user=projects/safelydv300classproj
[debug] [2025-08-15T09:26:52.142Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-08-15T09:26:53.779Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions 200
[debug] [2025-08-15T09:26:53.780Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-08-15T09:26:53.780Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:26:53.780Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:26:53.781Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/safelydv300classproj/instances pageSize=100&pageToken=
[debug] [2025-08-15T09:26:55.715Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/safelydv300classproj/instances 200
[debug] [2025-08-15T09:26:55.715Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/safelydv300classproj/instances {}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged C:\Users\Kurts\OneDrive\Documents\GitHub\SafelyApp\safelyApp\functions (71.68 KB) for uploading 
[debug] [2025-08-15T09:26:55.788Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:26:55.789Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:26:55.789Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/safelydv300classproj/locations/-/functions [none]
[debug] [2025-08-15T09:26:56.915Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/safelydv300classproj/locations/-/functions 200
[debug] [2025-08-15T09:26:56.916Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/safelydv300classproj/locations/-/functions {}
[debug] [2025-08-15T09:26:56.916Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:26:56.916Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:26:56.916Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-08-15T09:26:58.026Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/-/functions 200
[debug] [2025-08-15T09:26:58.027Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/-/functions {"functions":[{"name":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","buildConfig":{"build":"projects/130552682344/locations/us-central1/builds/2c45c6c0-f438-4eea-896d-67605d64a8f5","runtime":"nodejs18","entryPoint":"sendSafetyAlert","source":{"storageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755247066401679"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755247066401679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/safelydv300classproj/serviceAccounts/130552682344-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"state":"FAILED","updateTime":"2025-08-15T08:39:06.875253723Z","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"74dd154902d663fad59100a9de06d26edc029cd6"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-safelydv300classproj.cloudfunctions.net/sendSafetyAlert","createTime":"2025-08-15T08:37:46.719308281Z","satisfiesPzi":true}]}
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2025-08-15T09:26:58.034Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:26:58.034Z] Checked if tokens are valid: true, expires at: 1755252552875
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2025-08-15T09:26:58.034Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:26:58.034Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:26:58.035Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2025-08-15T09:26:58.035Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/pubsub.googleapis.com:generateServiceIdentity x-goog-quota-user=projects/130552682344
[debug] [2025-08-15T09:26:58.035Z] >>> [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/pubsub.googleapis.com:generateServiceIdentity {}
[debug] [2025-08-15T09:26:58.036Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2025-08-15T09:26:58.037Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/eventarc.googleapis.com:generateServiceIdentity x-goog-quota-user=projects/130552682344
[debug] [2025-08-15T09:26:58.037Z] >>> [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/eventarc.googleapis.com:generateServiceIdentity {}
[debug] [2025-08-15T09:27:00.175Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2025-08-15T09:27:00.175Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-130552682344@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"111320861835567362679"}}
[debug] [2025-08-15T09:27:00.217Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2025-08-15T09:27:00.218Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-130552682344@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"104055372893774142735"}}
[debug] [2025-08-15T09:27:00.221Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:27:00.221Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:27:00.221Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj [none]
[debug] [2025-08-15T09:27:01.900Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj 200
[debug] [2025-08-15T09:27:01.901Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj {"projectNumber":"130552682344","projectId":"safelydv300classproj","lifecycleState":"ACTIVE","name":"SafelyDV300ClassProj","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-07-23T12:41:51.344134Z","parent":{"type":"organization","id":"302473745500"}}
[debug] [2025-08-15T09:27:01.901Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:27:01.901Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:27:01.901Z] >>> [apiv2][query] GET https://compute.googleapis.com/compute/v1/projects/130552682344 [none]
[debug] [2025-08-15T09:27:03.225Z] <<< [apiv2][status] GET https://compute.googleapis.com/compute/v1/projects/130552682344 200
[debug] [2025-08-15T09:27:03.225Z] <<< [apiv2][body] GET https://compute.googleapis.com/compute/v1/projects/130552682344 {"kind":"compute#project","id":"8621518646385264976","creationTimestamp":"2025-08-15T02:02:55.900-07:00","name":"safelydv300classproj","commonInstanceMetadata":{"kind":"compute#metadata","fingerprint":"DXAlXQNgpgs="},"quotas":[{"metric":"SNAPSHOTS","limit":1000,"usage":0},{"metric":"NETWORKS","limit":5,"usage":1},{"metric":"FIREWALLS","limit":100,"usage":4},{"metric":"IMAGES","limit":100,"usage":0},{"metric":"STATIC_ADDRESSES","limit":8,"usage":0},{"metric":"ROUTES","limit":200,"usage":0},{"metric":"FORWARDING_RULES","limit":15,"usage":0},{"metric":"TARGET_POOLS","limit":50,"usage":0},{"metric":"HEALTH_CHECKS","limit":75,"usage":0},{"metric":"IN_USE_ADDRESSES","limit":8,"usage":0},{"metric":"TARGET_INSTANCES","limit":50,"usage":0},{"metric":"TARGET_HTTP_PROXIES","limit":10,"usage":0},{"metric":"URL_MAPS","limit":10,"usage":0},{"metric":"BACKEND_SERVICES","limit":50,"usage":0},{"metric":"INSTANCE_TEMPLATES","limit":100,"usage":0},{"metric":"TARGET_VPN_GATEWAYS","limit":5,"usage":0},{"metric":"VPN_TUNNELS","limit":10,"usage":0},{"metric":"BACKEND_BUCKETS","limit":3,"usage":0},{"metric":"ROUTERS","limit":10,"usage":0},{"metric":"TARGET_SSL_PROXIES","limit":10,"usage":0},{"metric":"TARGET_HTTPS_PROXIES","limit":10,"usage":0},{"metric":"SSL_CERTIFICATES","limit":10,"usage":0},{"metric":"SUBNETWORKS","limit":100,"usage":0},{"metric":"TARGET_TCP_PROXIES","limit":10,"usage":0},{"metric":"CPUS_ALL_REGIONS","limit":32,"usage":0},{"metric":"SECURITY_POLICIES","limit":10,"usage":0},{"metric":"SECURITY_POLICY_RULES","limit":100,"usage":0},{"metric":"XPN_SERVICE_PROJECTS","limit":1000,"usage":0},{"metric":"PACKET_MIRRORINGS","limit":20,"usage":0},{"metric":"NETWORK_ENDPOINT_GROUPS","limit":100,"usage":0},{"metric":"INTERCONNECTS","limit":6,"usage":0},{"metric":"SSL_POLICIES","limit":10,"usage":0},{"metric":"GLOBAL_INTERNAL_ADDRESSES","limit":5000,"usage":0},{"metric":"VPN_GATEWAYS","limit":5,"usage":0},{"metric":"MACHINE_IMAGES","limit":100,"usage":0},{"metric":"SECURITY_POLICY_CEVAL_RULES","limit":20,"usage":0},{"metric":"GPUS_ALL_REGIONS","limit":0,"usage":0},{"metric":"EXTERNAL_VPN_GATEWAYS","limit":5,"usage":0},{"metric":"PUBLIC_ADVERTISED_PREFIXES","limit":1,"usage":0},{"metric":"PUBLIC_DELEGATED_PREFIXES","limit":10,"usage":0},{"metric":"STATIC_BYOIP_ADDRESSES","limit":128,"usage":0},{"metric":"NETWORK_FIREWALL_POLICIES","limit":10,"usage":0},{"metric":"INTERNAL_TRAFFIC_DIRECTOR_FORWARDING_RULES","limit":15,"usage":0},{"metric":"GLOBAL_EXTERNAL_MANAGED_FORWARDING_RULES","limit":15,"usage":0},{"metric":"GLOBAL_INTERNAL_MANAGED_BACKEND_SERVICES","limit":50,"usage":0},{"metric":"GLOBAL_EXTERNAL_MANAGED_BACKEND_SERVICES","limit":50,"usage":0},{"metric":"GLOBAL_EXTERNAL_PROXY_LB_BACKEND_SERVICES","limit":50,"usage":0},{"metric":"GLOBAL_INTERNAL_TRAFFIC_DIRECTOR_BACKEND_SERVICES","limit":250,"usage":0}],"selfLink":"https://www.googleapis.com/compute/v1/projects/safelydv300classproj","defaultServiceAccount":"130552682344-compute@developer.gserviceaccount.com","xpnProjectStatus":"UNSPECIFIED_XPN_PROJECT_STATUS","defaultNetworkTier":"PREMIUM","vmDnsSetting":"GLOBAL_DEFAULT","cloudArmorTier":"CA_STANDARD"}
[debug] [2025-08-15T09:27:03.226Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:27:03.226Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:27:03.227Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/safelydv300classproj/billingInfo [none]
[debug] [2025-08-15T09:27:04.516Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/safelydv300classproj/billingInfo 200
[debug] [2025-08-15T09:27:04.516Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/safelydv300classproj/billingInfo {"name":"projects/safelydv300classproj/billingInfo","projectId":"safelydv300classproj","billingAccountName":"billingAccounts/01E9CC-CBD959-768D9C","billingEnabled":true}
[info] i  functions: updating Node.js 18 (2nd Gen) function sendSafetyAlert(us-central1)... 
[debug] [2025-08-15T09:27:04.522Z] Precondition failed. Cannot update a GCFv2 function without storage
[debug] [2025-08-15T09:27:04.525Z] Total Function Deployment time: 2
[debug] [2025-08-15T09:27:04.525Z] 1 Functions Deployed
[debug] [2025-08-15T09:27:04.525Z] 1 Functions Errored
[debug] [2025-08-15T09:27:04.525Z] 0 Function Deployments Aborted
[debug] [2025-08-15T09:27:04.525Z] Average Function Deployment time: 0
[info] 
[info] Functions deploy had errors with the following functions:
	sendSafetyAlert(us-central1)
[debug] [2025-08-15T09:27:04.527Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:27:04.527Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:27:04.527Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts [none]
[debug] [2025-08-15T09:27:05.790Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts 200
[debug] [2025-08-15T09:27:05.791Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts {"name":"projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2025-08-15T08:37:55.421836Z","updateTime":"2025-08-15T08:45:50.250628Z","mode":"STANDARD_REPOSITORY","cleanupPolicies":{"firebase-functions-cleanup":{"id":"firebase-functions-cleanup","action":"DELETE","condition":{"tagState":"ANY","olderThan":"1728000s"}}},"sizeBytes":"89657648","vulnerabilityScanningConfig":{"lastEnableTime":"2025-08-15T08:37:46.936416874Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true,"registryUri":"us-central1-docker.pkg.dev/safelydv300classproj/gcf-artifacts"}
[debug] [2025-08-15T09:27:05.791Z] Functions deploy failed.
[debug] [2025-08-15T09:27:05.791Z] {}
[debug] [2025-08-15T09:27:05.793Z] Error: Precondition failed
    at Fabricator.updateV2Function (C:\Users\Kurts\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:382:19)
    at Fabricator.updateEndpoint (C:\Users\Kurts\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:155:24)
    at C:\Users\Kurts\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:110:71
    at handle (C:\Users\Kurts\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:89:23)
    at Fabricator.applyChangeset (C:\Users\Kurts\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:110:26)
    at C:\Users\Kurts\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:69:40
    at Array.map (<anonymous>)
    at Fabricator.applyPlan (C:\Users\Kurts\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:68:54)
    at release (C:\Users\Kurts\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\index.js:76:31)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[error] 
[error] Error: There was an error deploying functions
[debug] [2025-08-15T09:29:10.283Z] ----------------------------------------------------------------------
[debug] [2025-08-15T09:29:10.287Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Kurts\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions --debug
[debug] [2025-08-15T09:29:10.288Z] CLI Version:   14.12.0
[debug] [2025-08-15T09:29:10.288Z] Platform:      win32
[debug] [2025-08-15T09:29:10.288Z] Node Version:  v22.17.0
[debug] [2025-08-15T09:29:10.289Z] Time:          Fri Aug 15 2025 11:29:10 GMT+0200 (South Africa Standard Time)
[debug] [2025-08-15T09:29:10.289Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-08-15T09:29:10.635Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-08-15T09:29:10.637Z] > authorizing via signed-in user (231002@virtualwindow.co.za)
[debug] [2025-08-15T09:29:10.638Z] [iam] checking project safelydv300classproj for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-08-15T09:29:10.640Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:29:10.641Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:29:10.642Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions [none]
[debug] [2025-08-15T09:29:10.643Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions x-goog-quota-user=projects/safelydv300classproj
[debug] [2025-08-15T09:29:10.643Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-08-15T09:29:12.396Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions 200
[debug] [2025-08-15T09:29:12.397Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-08-15T09:29:12.398Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:29:12.398Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:29:12.398Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/safelydv300classproj/serviceAccounts/safelydv300classproj@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-08-15T09:29:12.398Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/safelydv300classproj/serviceAccounts/safelydv300classproj@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-08-15T09:29:14.079Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/safelydv300classproj/serviceAccounts/safelydv300classproj@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-08-15T09:29:14.079Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/safelydv300classproj/serviceAccounts/safelydv300classproj@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'safelydv300classproj'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run build
[info] +  functions: Finished running predeploy script. 
[debug] [2025-08-15T09:29:27.679Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:29:27.680Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:29:27.680Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj [none]
[debug] [2025-08-15T09:29:29.335Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj 200
[debug] [2025-08-15T09:29:29.336Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj {"projectNumber":"130552682344","projectId":"safelydv300classproj","lifecycleState":"ACTIVE","name":"SafelyDV300ClassProj","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-07-23T12:41:51.344134Z","parent":{"type":"organization","id":"302473745500"}}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-08-15T09:29:29.340Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:29:29.341Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:29:29.341Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/safelydv300classproj/adminSdkConfig [none]
[debug] [2025-08-15T09:29:30.236Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/safelydv300classproj/adminSdkConfig 200
[debug] [2025-08-15T09:29:30.236Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/safelydv300classproj/adminSdkConfig {"projectId":"safelydv300classproj","storageBucket":"safelydv300classproj.firebasestorage.app"}
[debug] [2025-08-15T09:29:30.237Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:29:30.238Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:29:30.238Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs [none]
[debug] [2025-08-15T09:29:30.790Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs 200
[debug] [2025-08-15T09:29:30.791Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs {"configs":[{"name":"projects/safelydv300classproj/configs/twilio"}]}
[debug] [2025-08-15T09:29:30.791Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:29:30.792Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:29:30.792Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables [none]
[debug] [2025-08-15T09:29:31.146Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables 200
[debug] [2025-08-15T09:29:31.146Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables {"variables":[{"name":"projects/safelydv300classproj/configs/twilio/variables/token","updateTime":"2025-08-15T08:19:48.557720098Z"},{"name":"projects/safelydv300classproj/configs/twilio/variables/phone","updateTime":"2025-08-15T08:19:49.249365924Z"},{"name":"projects/safelydv300classproj/configs/twilio/variables/sid","updateTime":"2025-08-15T08:19:48.653333037Z"}]}
[debug] [2025-08-15T09:29:31.147Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:29:31.147Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:29:31.148Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:29:31.148Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:29:31.149Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:29:31.149Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:29:31.149Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/token [none]
[debug] [2025-08-15T09:29:31.150Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/phone [none]
[debug] [2025-08-15T09:29:31.153Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/sid [none]
[debug] [2025-08-15T09:29:31.512Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/token 200
[debug] [2025-08-15T09:29:31.512Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/token {"name":"projects/safelydv300classproj/configs/twilio/variables/token","updateTime":"2025-08-15T08:19:48.557720098Z","text":"732fdc2a73d71ac2fe25e4cae3619046"}
[debug] [2025-08-15T09:29:31.703Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/phone 200
[debug] [2025-08-15T09:29:31.704Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/phone {"name":"projects/safelydv300classproj/configs/twilio/variables/phone","updateTime":"2025-08-15T08:19:49.249365924Z","text":"+17125263759"}
[debug] [2025-08-15T09:29:31.748Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/sid 200
[debug] [2025-08-15T09:29:31.749Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/sid {"name":"projects/safelydv300classproj/configs/twilio/variables/sid","updateTime":"2025-08-15T08:19:48.653333037Z","text":"AC38bcdf250494984c1615c5434321ce20"}
[debug] [2025-08-15T09:29:31.752Z] Validating nodejs source
[warn] !  functions: Runtime Node.js 18 was deprecated on 2025-04-30 and will be decommissioned on 2025-10-30, after which you will not be able to deploy without upgrading. Consider upgrading now to avoid disruption. See https://cloud.google.com/functions/docs/runtime-support for full details on the lifecycle policy 
[debug] [2025-08-15T09:29:33.796Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.7.0",
    "firebase-functions": "^6.4.0",
    "twilio": "^5.8.0"
  },
  "devDependencies": {
    "@types/node": "^24.2.1",
    "@types/twilio": "^3.19.3",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-08-15T09:29:33.797Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-08-15T09:29:33.801Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-15T09:29:33.816Z] Found firebase-functions binary at 'C:\Users\Kurts\OneDrive\Documents\GitHub\SafelyApp\safelyApp\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8036

[debug] [2025-08-15T09:29:35.753Z] Got response from /__/functions.yaml {"endpoints":{"sendSafetyAlert":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"sendSafetyAlert"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-08-15T09:29:39.814Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-08-15T09:29:39.815Z] > authorizing via signed-in user (231002@virtualwindow.co.za)
[debug] [2025-08-15T09:29:39.815Z] [iam] checking project safelydv300classproj for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-08-15T09:29:39.816Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:29:39.816Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:29:39.816Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions [none]
[debug] [2025-08-15T09:29:39.816Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions x-goog-quota-user=projects/safelydv300classproj
[debug] [2025-08-15T09:29:39.817Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-08-15T09:29:41.465Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions 200
[debug] [2025-08-15T09:29:41.465Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-08-15T09:29:41.466Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:29:41.466Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:29:41.467Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/safelydv300classproj/instances pageSize=100&pageToken=
[debug] [2025-08-15T09:29:43.208Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/safelydv300classproj/instances 200
[debug] [2025-08-15T09:29:43.209Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/safelydv300classproj/instances {}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged C:\Users\Kurts\OneDrive\Documents\GitHub\SafelyApp\safelyApp\functions (71.68 KB) for uploading 
[debug] [2025-08-15T09:29:43.284Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:29:43.285Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:29:43.285Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/safelydv300classproj/locations/-/functions [none]
[debug] [2025-08-15T09:29:44.174Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/safelydv300classproj/locations/-/functions 200
[debug] [2025-08-15T09:29:44.174Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/safelydv300classproj/locations/-/functions {}
[debug] [2025-08-15T09:29:44.175Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:29:44.175Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:29:44.175Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-08-15T09:29:45.305Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/-/functions 200
[debug] [2025-08-15T09:29:45.306Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/-/functions {"functions":[{"name":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","buildConfig":{"build":"projects/130552682344/locations/us-central1/builds/2c45c6c0-f438-4eea-896d-67605d64a8f5","runtime":"nodejs18","entryPoint":"sendSafetyAlert","source":{"storageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755247066401679"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755247066401679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/safelydv300classproj/serviceAccounts/130552682344-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"state":"FAILED","updateTime":"2025-08-15T08:39:06.875253723Z","labels":{"firebase-functions-hash":"74dd154902d663fad59100a9de06d26edc029cd6","deployment-tool":"cli-firebase","deployment-callable":"true"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-safelydv300classproj.cloudfunctions.net/sendSafetyAlert","createTime":"2025-08-15T08:37:46.719308281Z","satisfiesPzi":true}]}
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2025-08-15T09:29:45.315Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:29:45.315Z] Checked if tokens are valid: true, expires at: 1755252552875
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2025-08-15T09:29:45.316Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:29:45.317Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:29:45.317Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2025-08-15T09:29:45.317Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/pubsub.googleapis.com:generateServiceIdentity x-goog-quota-user=projects/130552682344
[debug] [2025-08-15T09:29:45.318Z] >>> [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/pubsub.googleapis.com:generateServiceIdentity {}
[debug] [2025-08-15T09:29:45.320Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2025-08-15T09:29:45.320Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/eventarc.googleapis.com:generateServiceIdentity x-goog-quota-user=projects/130552682344
[debug] [2025-08-15T09:29:45.320Z] >>> [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/eventarc.googleapis.com:generateServiceIdentity {}
[debug] [2025-08-15T09:29:47.141Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2025-08-15T09:29:47.142Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-130552682344@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"104055372893774142735"}}
[debug] [2025-08-15T09:29:47.284Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2025-08-15T09:29:47.284Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-130552682344@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"111320861835567362679"}}
[debug] [2025-08-15T09:29:47.288Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:29:47.288Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:29:47.289Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj [none]
[debug] [2025-08-15T09:29:48.950Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj 200
[debug] [2025-08-15T09:29:48.950Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj {"projectNumber":"130552682344","projectId":"safelydv300classproj","lifecycleState":"ACTIVE","name":"SafelyDV300ClassProj","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-07-23T12:41:51.344134Z","parent":{"type":"organization","id":"302473745500"}}
[debug] [2025-08-15T09:29:48.951Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:29:48.951Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:29:48.951Z] >>> [apiv2][query] GET https://compute.googleapis.com/compute/v1/projects/130552682344 [none]
[debug] [2025-08-15T09:29:49.676Z] <<< [apiv2][status] GET https://compute.googleapis.com/compute/v1/projects/130552682344 200
[debug] [2025-08-15T09:29:49.677Z] <<< [apiv2][body] GET https://compute.googleapis.com/compute/v1/projects/130552682344 {"kind":"compute#project","id":"8621518646385264976","creationTimestamp":"2025-08-15T02:02:55.900-07:00","name":"safelydv300classproj","commonInstanceMetadata":{"kind":"compute#metadata","fingerprint":"DXAlXQNgpgs="},"quotas":[{"metric":"SNAPSHOTS","limit":1000,"usage":0},{"metric":"NETWORKS","limit":5,"usage":1},{"metric":"FIREWALLS","limit":100,"usage":4},{"metric":"IMAGES","limit":100,"usage":0},{"metric":"STATIC_ADDRESSES","limit":8,"usage":0},{"metric":"ROUTES","limit":200,"usage":0},{"metric":"FORWARDING_RULES","limit":15,"usage":0},{"metric":"TARGET_POOLS","limit":50,"usage":0},{"metric":"HEALTH_CHECKS","limit":75,"usage":0},{"metric":"IN_USE_ADDRESSES","limit":8,"usage":0},{"metric":"TARGET_INSTANCES","limit":50,"usage":0},{"metric":"TARGET_HTTP_PROXIES","limit":10,"usage":0},{"metric":"URL_MAPS","limit":10,"usage":0},{"metric":"BACKEND_SERVICES","limit":50,"usage":0},{"metric":"INSTANCE_TEMPLATES","limit":100,"usage":0},{"metric":"TARGET_VPN_GATEWAYS","limit":5,"usage":0},{"metric":"VPN_TUNNELS","limit":10,"usage":0},{"metric":"BACKEND_BUCKETS","limit":3,"usage":0},{"metric":"ROUTERS","limit":10,"usage":0},{"metric":"TARGET_SSL_PROXIES","limit":10,"usage":0},{"metric":"TARGET_HTTPS_PROXIES","limit":10,"usage":0},{"metric":"SSL_CERTIFICATES","limit":10,"usage":0},{"metric":"SUBNETWORKS","limit":100,"usage":0},{"metric":"TARGET_TCP_PROXIES","limit":10,"usage":0},{"metric":"CPUS_ALL_REGIONS","limit":32,"usage":0},{"metric":"SECURITY_POLICIES","limit":10,"usage":0},{"metric":"SECURITY_POLICY_RULES","limit":100,"usage":0},{"metric":"XPN_SERVICE_PROJECTS","limit":1000,"usage":0},{"metric":"PACKET_MIRRORINGS","limit":20,"usage":0},{"metric":"NETWORK_ENDPOINT_GROUPS","limit":100,"usage":0},{"metric":"INTERCONNECTS","limit":6,"usage":0},{"metric":"SSL_POLICIES","limit":10,"usage":0},{"metric":"GLOBAL_INTERNAL_ADDRESSES","limit":5000,"usage":0},{"metric":"VPN_GATEWAYS","limit":5,"usage":0},{"metric":"MACHINE_IMAGES","limit":100,"usage":0},{"metric":"SECURITY_POLICY_CEVAL_RULES","limit":20,"usage":0},{"metric":"GPUS_ALL_REGIONS","limit":0,"usage":0},{"metric":"EXTERNAL_VPN_GATEWAYS","limit":5,"usage":0},{"metric":"PUBLIC_ADVERTISED_PREFIXES","limit":1,"usage":0},{"metric":"PUBLIC_DELEGATED_PREFIXES","limit":10,"usage":0},{"metric":"STATIC_BYOIP_ADDRESSES","limit":128,"usage":0},{"metric":"NETWORK_FIREWALL_POLICIES","limit":10,"usage":0},{"metric":"INTERNAL_TRAFFIC_DIRECTOR_FORWARDING_RULES","limit":15,"usage":0},{"metric":"GLOBAL_EXTERNAL_MANAGED_FORWARDING_RULES","limit":15,"usage":0},{"metric":"GLOBAL_INTERNAL_MANAGED_BACKEND_SERVICES","limit":50,"usage":0},{"metric":"GLOBAL_EXTERNAL_MANAGED_BACKEND_SERVICES","limit":50,"usage":0},{"metric":"GLOBAL_EXTERNAL_PROXY_LB_BACKEND_SERVICES","limit":50,"usage":0},{"metric":"GLOBAL_INTERNAL_TRAFFIC_DIRECTOR_BACKEND_SERVICES","limit":250,"usage":0}],"selfLink":"https://www.googleapis.com/compute/v1/projects/safelydv300classproj","defaultServiceAccount":"130552682344-compute@developer.gserviceaccount.com","xpnProjectStatus":"UNSPECIFIED_XPN_PROJECT_STATUS","defaultNetworkTier":"PREMIUM","vmDnsSetting":"GLOBAL_DEFAULT","cloudArmorTier":"CA_STANDARD"}
[debug] [2025-08-15T09:29:49.679Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:29:49.679Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:29:49.680Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/safelydv300classproj/billingInfo [none]
[debug] [2025-08-15T09:29:50.484Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/safelydv300classproj/billingInfo 200
[debug] [2025-08-15T09:29:50.485Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/safelydv300classproj/billingInfo {"name":"projects/safelydv300classproj/billingInfo","projectId":"safelydv300classproj","billingAccountName":"billingAccounts/01E9CC-CBD959-768D9C","billingEnabled":true}
[info] i  functions: updating Node.js 18 (2nd Gen) function sendSafetyAlert(us-central1)... 
[debug] [2025-08-15T09:29:50.491Z] Precondition failed. Cannot update a GCFv2 function without storage
[debug] [2025-08-15T09:29:50.494Z] Total Function Deployment time: 2
[debug] [2025-08-15T09:29:50.495Z] 1 Functions Deployed
[debug] [2025-08-15T09:29:50.495Z] 1 Functions Errored
[debug] [2025-08-15T09:29:50.495Z] 0 Function Deployments Aborted
[debug] [2025-08-15T09:29:50.495Z] Average Function Deployment time: 1
[info] 
[info] Functions deploy had errors with the following functions:
	sendSafetyAlert(us-central1)
[debug] [2025-08-15T09:29:50.498Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:29:50.498Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:29:50.498Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts [none]
[debug] [2025-08-15T09:29:51.577Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts 200
[debug] [2025-08-15T09:29:51.577Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts {"name":"projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2025-08-15T08:37:55.421836Z","updateTime":"2025-08-15T08:45:50.250628Z","mode":"STANDARD_REPOSITORY","cleanupPolicies":{"firebase-functions-cleanup":{"id":"firebase-functions-cleanup","action":"DELETE","condition":{"tagState":"ANY","olderThan":"1728000s"}}},"sizeBytes":"89657648","vulnerabilityScanningConfig":{"lastEnableTime":"2025-08-15T08:37:46.936416874Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true,"registryUri":"us-central1-docker.pkg.dev/safelydv300classproj/gcf-artifacts"}
[debug] [2025-08-15T09:29:51.578Z] Functions deploy failed.
[debug] [2025-08-15T09:29:51.578Z] {}
[debug] [2025-08-15T09:29:51.580Z] Error: Precondition failed
    at Fabricator.updateV2Function (C:\Users\Kurts\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:382:19)
    at Fabricator.updateEndpoint (C:\Users\Kurts\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:155:24)
    at C:\Users\Kurts\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:110:71
    at handle (C:\Users\Kurts\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:89:23)
    at Fabricator.applyChangeset (C:\Users\Kurts\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:110:26)
    at C:\Users\Kurts\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:69:40
    at Array.map (<anonymous>)
    at Fabricator.applyPlan (C:\Users\Kurts\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:68:54)
    at release (C:\Users\Kurts\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\index.js:76:31)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[error] 
[error] Error: There was an error deploying functions
[debug] [2025-08-15T09:46:26.189Z] ----------------------------------------------------------------------
[debug] [2025-08-15T09:46:26.193Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Kurts\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions --debug
[debug] [2025-08-15T09:46:26.194Z] CLI Version:   14.12.0
[debug] [2025-08-15T09:46:26.195Z] Platform:      win32
[debug] [2025-08-15T09:46:26.195Z] Node Version:  v22.17.0
[debug] [2025-08-15T09:46:26.195Z] Time:          Fri Aug 15 2025 11:46:26 GMT+0200 (South Africa Standard Time)
[debug] [2025-08-15T09:46:26.196Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-08-15T09:46:26.648Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-08-15T09:46:26.651Z] > authorizing via signed-in user (231002@virtualwindow.co.za)
[debug] [2025-08-15T09:46:26.651Z] [iam] checking project safelydv300classproj for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-08-15T09:46:26.657Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:46:26.658Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:46:26.660Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions [none]
[debug] [2025-08-15T09:46:26.661Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions x-goog-quota-user=projects/safelydv300classproj
[debug] [2025-08-15T09:46:26.661Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-08-15T09:46:28.640Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions 200
[debug] [2025-08-15T09:46:28.641Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-08-15T09:46:28.642Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:46:28.643Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:46:28.643Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/safelydv300classproj/serviceAccounts/safelydv300classproj@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-08-15T09:46:28.643Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/safelydv300classproj/serviceAccounts/safelydv300classproj@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-08-15T09:46:30.511Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/safelydv300classproj/serviceAccounts/safelydv300classproj@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-08-15T09:46:30.511Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/safelydv300classproj/serviceAccounts/safelydv300classproj@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'safelydv300classproj'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run build
[info] +  functions: Finished running predeploy script. 
[debug] [2025-08-15T09:46:46.105Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:46:46.106Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:46:46.106Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj [none]
[debug] [2025-08-15T09:46:47.805Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj 200
[debug] [2025-08-15T09:46:47.806Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj {"projectNumber":"130552682344","projectId":"safelydv300classproj","lifecycleState":"ACTIVE","name":"SafelyDV300ClassProj","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-07-23T12:41:51.344134Z","parent":{"type":"organization","id":"302473745500"}}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-08-15T09:46:47.811Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:46:47.811Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:46:47.812Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/safelydv300classproj/adminSdkConfig [none]
[debug] [2025-08-15T09:46:48.580Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/safelydv300classproj/adminSdkConfig 200
[debug] [2025-08-15T09:46:48.580Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/safelydv300classproj/adminSdkConfig {"projectId":"safelydv300classproj","storageBucket":"safelydv300classproj.firebasestorage.app"}
[debug] [2025-08-15T09:46:48.581Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:46:48.582Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:46:48.582Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs [none]
[debug] [2025-08-15T09:46:49.365Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs 200
[debug] [2025-08-15T09:46:49.366Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs {"configs":[{"name":"projects/safelydv300classproj/configs/twilio"}]}
[debug] [2025-08-15T09:46:49.367Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:46:49.367Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:46:49.367Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables [none]
[debug] [2025-08-15T09:46:49.776Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables 200
[debug] [2025-08-15T09:46:49.777Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables {"variables":[{"name":"projects/safelydv300classproj/configs/twilio/variables/phone","updateTime":"2025-08-15T08:19:49.249365924Z"},{"name":"projects/safelydv300classproj/configs/twilio/variables/sid","updateTime":"2025-08-15T08:19:48.653333037Z"},{"name":"projects/safelydv300classproj/configs/twilio/variables/token","updateTime":"2025-08-15T08:19:48.557720098Z"}]}
[debug] [2025-08-15T09:46:49.777Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:46:49.778Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:46:49.778Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:46:49.778Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:46:49.779Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:46:49.779Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:46:49.779Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/phone [none]
[debug] [2025-08-15T09:46:49.780Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/sid [none]
[debug] [2025-08-15T09:46:49.783Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/token [none]
[debug] [2025-08-15T09:46:50.161Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/phone 200
[debug] [2025-08-15T09:46:50.161Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/phone {"name":"projects/safelydv300classproj/configs/twilio/variables/phone","updateTime":"2025-08-15T08:19:49.249365924Z","text":"+17125263759"}
[debug] [2025-08-15T09:46:50.368Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/token 200
[debug] [2025-08-15T09:46:50.368Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/token {"name":"projects/safelydv300classproj/configs/twilio/variables/token","updateTime":"2025-08-15T08:19:48.557720098Z","text":"732fdc2a73d71ac2fe25e4cae3619046"}
[debug] [2025-08-15T09:46:50.397Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/sid 200
[debug] [2025-08-15T09:46:50.397Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/safelydv300classproj/configs/twilio/variables/sid {"name":"projects/safelydv300classproj/configs/twilio/variables/sid","updateTime":"2025-08-15T08:19:48.653333037Z","text":"AC38bcdf250494984c1615c5434321ce20"}
[debug] [2025-08-15T09:46:50.400Z] Validating nodejs source
[warn] !  functions: Runtime Node.js 18 was deprecated on 2025-04-30 and will be decommissioned on 2025-10-30, after which you will not be able to deploy without upgrading. Consider upgrading now to avoid disruption. See https://cloud.google.com/functions/docs/runtime-support for full details on the lifecycle policy 
[debug] [2025-08-15T09:46:52.388Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "predeploy": "npm run build && firebase functions:settings:set timeoutSeconds=600"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.7.0",
    "firebase-functions": "^6.4.0",
    "twilio": "^5.8.0"
  },
  "devDependencies": {
    "@types/node": "^24.2.1",
    "@types/twilio": "^3.19.3",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-08-15T09:46:52.389Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-08-15T09:46:52.391Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-15T09:46:52.407Z] Found firebase-functions binary at 'C:\Users\Kurts\OneDrive\Documents\GitHub\SafelyApp\safelyApp\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8760

[debug] [2025-08-15T09:46:54.576Z] Got response from /__/functions.yaml {"endpoints":{"sendSafetyAlert":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"sendSafetyAlert"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-08-15T09:46:58.635Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-08-15T09:46:58.636Z] > authorizing via signed-in user (231002@virtualwindow.co.za)
[debug] [2025-08-15T09:46:58.636Z] [iam] checking project safelydv300classproj for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-08-15T09:46:58.637Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:46:58.637Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:46:58.637Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions [none]
[debug] [2025-08-15T09:46:58.638Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions x-goog-quota-user=projects/safelydv300classproj
[debug] [2025-08-15T09:46:58.638Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-08-15T09:47:00.301Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions 200
[debug] [2025-08-15T09:47:00.302Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-08-15T09:47:00.303Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:47:00.303Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:47:00.304Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/safelydv300classproj/instances pageSize=100&pageToken=
[debug] [2025-08-15T09:47:02.309Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/safelydv300classproj/instances 200
[debug] [2025-08-15T09:47:02.310Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/safelydv300classproj/instances {}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged C:\Users\Kurts\OneDrive\Documents\GitHub\SafelyApp\safelyApp\functions (71.71 KB) for uploading 
[debug] [2025-08-15T09:47:02.383Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:47:02.383Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:47:02.383Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/safelydv300classproj/locations/-/functions [none]
[debug] [2025-08-15T09:47:03.504Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/safelydv300classproj/locations/-/functions 200
[debug] [2025-08-15T09:47:03.505Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/safelydv300classproj/locations/-/functions {}
[debug] [2025-08-15T09:47:03.505Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:47:03.506Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:47:03.506Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-08-15T09:47:04.725Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/-/functions 200
[debug] [2025-08-15T09:47:04.726Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/-/functions {"functions":[{"name":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","buildConfig":{"build":"projects/130552682344/locations/us-central1/builds/2c45c6c0-f438-4eea-896d-67605d64a8f5","runtime":"nodejs18","entryPoint":"sendSafetyAlert","source":{"storageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755247066401679"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755247066401679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/safelydv300classproj/serviceAccounts/130552682344-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"state":"FAILED","updateTime":"2025-08-15T08:39:06.875253723Z","labels":{"deployment-callable":"true","firebase-functions-hash":"74dd154902d663fad59100a9de06d26edc029cd6","deployment-tool":"cli-firebase"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-safelydv300classproj.cloudfunctions.net/sendSafetyAlert","createTime":"2025-08-15T08:37:46.719308281Z","satisfiesPzi":true}]}
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2025-08-15T09:47:04.733Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:47:04.733Z] Checked if tokens are valid: true, expires at: 1755252552875
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2025-08-15T09:47:04.734Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:47:04.734Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:47:04.735Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2025-08-15T09:47:04.735Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/pubsub.googleapis.com:generateServiceIdentity x-goog-quota-user=projects/130552682344
[debug] [2025-08-15T09:47:04.735Z] >>> [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/pubsub.googleapis.com:generateServiceIdentity {}
[debug] [2025-08-15T09:47:04.737Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2025-08-15T09:47:04.737Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/eventarc.googleapis.com:generateServiceIdentity x-goog-quota-user=projects/130552682344
[debug] [2025-08-15T09:47:04.737Z] >>> [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/eventarc.googleapis.com:generateServiceIdentity {}
[debug] [2025-08-15T09:47:06.791Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2025-08-15T09:47:06.791Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-130552682344@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"111320861835567362679"}}
[debug] [2025-08-15T09:47:06.803Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2025-08-15T09:47:06.803Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/130552682344/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-130552682344@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"104055372893774142735"}}
[debug] [2025-08-15T09:47:06.807Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:47:06.807Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:47:06.807Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj [none]
[debug] [2025-08-15T09:47:08.519Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj 200
[debug] [2025-08-15T09:47:08.520Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/safelydv300classproj {"projectNumber":"130552682344","projectId":"safelydv300classproj","lifecycleState":"ACTIVE","name":"SafelyDV300ClassProj","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-07-23T12:41:51.344134Z","parent":{"type":"organization","id":"302473745500"}}
[debug] [2025-08-15T09:47:08.520Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:47:08.521Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:47:08.521Z] >>> [apiv2][query] GET https://compute.googleapis.com/compute/v1/projects/130552682344 [none]
[debug] [2025-08-15T09:47:09.488Z] <<< [apiv2][status] GET https://compute.googleapis.com/compute/v1/projects/130552682344 200
[debug] [2025-08-15T09:47:09.489Z] <<< [apiv2][body] GET https://compute.googleapis.com/compute/v1/projects/130552682344 {"kind":"compute#project","id":"8621518646385264976","creationTimestamp":"2025-08-15T02:02:55.900-07:00","name":"safelydv300classproj","commonInstanceMetadata":{"kind":"compute#metadata","fingerprint":"DXAlXQNgpgs="},"quotas":[{"metric":"SNAPSHOTS","limit":1000,"usage":0},{"metric":"NETWORKS","limit":5,"usage":1},{"metric":"FIREWALLS","limit":100,"usage":4},{"metric":"IMAGES","limit":100,"usage":0},{"metric":"STATIC_ADDRESSES","limit":8,"usage":0},{"metric":"ROUTES","limit":200,"usage":0},{"metric":"FORWARDING_RULES","limit":15,"usage":0},{"metric":"TARGET_POOLS","limit":50,"usage":0},{"metric":"HEALTH_CHECKS","limit":75,"usage":0},{"metric":"IN_USE_ADDRESSES","limit":8,"usage":0},{"metric":"TARGET_INSTANCES","limit":50,"usage":0},{"metric":"TARGET_HTTP_PROXIES","limit":10,"usage":0},{"metric":"URL_MAPS","limit":10,"usage":0},{"metric":"BACKEND_SERVICES","limit":50,"usage":0},{"metric":"INSTANCE_TEMPLATES","limit":100,"usage":0},{"metric":"TARGET_VPN_GATEWAYS","limit":5,"usage":0},{"metric":"VPN_TUNNELS","limit":10,"usage":0},{"metric":"BACKEND_BUCKETS","limit":3,"usage":0},{"metric":"ROUTERS","limit":10,"usage":0},{"metric":"TARGET_SSL_PROXIES","limit":10,"usage":0},{"metric":"TARGET_HTTPS_PROXIES","limit":10,"usage":0},{"metric":"SSL_CERTIFICATES","limit":10,"usage":0},{"metric":"SUBNETWORKS","limit":100,"usage":0},{"metric":"TARGET_TCP_PROXIES","limit":10,"usage":0},{"metric":"CPUS_ALL_REGIONS","limit":32,"usage":0},{"metric":"SECURITY_POLICIES","limit":10,"usage":0},{"metric":"SECURITY_POLICY_RULES","limit":100,"usage":0},{"metric":"XPN_SERVICE_PROJECTS","limit":1000,"usage":0},{"metric":"PACKET_MIRRORINGS","limit":20,"usage":0},{"metric":"NETWORK_ENDPOINT_GROUPS","limit":100,"usage":0},{"metric":"INTERCONNECTS","limit":6,"usage":0},{"metric":"SSL_POLICIES","limit":10,"usage":0},{"metric":"GLOBAL_INTERNAL_ADDRESSES","limit":5000,"usage":0},{"metric":"VPN_GATEWAYS","limit":5,"usage":0},{"metric":"MACHINE_IMAGES","limit":100,"usage":0},{"metric":"SECURITY_POLICY_CEVAL_RULES","limit":20,"usage":0},{"metric":"GPUS_ALL_REGIONS","limit":0,"usage":0},{"metric":"EXTERNAL_VPN_GATEWAYS","limit":5,"usage":0},{"metric":"PUBLIC_ADVERTISED_PREFIXES","limit":1,"usage":0},{"metric":"PUBLIC_DELEGATED_PREFIXES","limit":10,"usage":0},{"metric":"STATIC_BYOIP_ADDRESSES","limit":128,"usage":0},{"metric":"NETWORK_FIREWALL_POLICIES","limit":10,"usage":0},{"metric":"INTERNAL_TRAFFIC_DIRECTOR_FORWARDING_RULES","limit":15,"usage":0},{"metric":"GLOBAL_EXTERNAL_MANAGED_FORWARDING_RULES","limit":15,"usage":0},{"metric":"GLOBAL_INTERNAL_MANAGED_BACKEND_SERVICES","limit":50,"usage":0},{"metric":"GLOBAL_EXTERNAL_MANAGED_BACKEND_SERVICES","limit":50,"usage":0},{"metric":"GLOBAL_EXTERNAL_PROXY_LB_BACKEND_SERVICES","limit":50,"usage":0},{"metric":"GLOBAL_INTERNAL_TRAFFIC_DIRECTOR_BACKEND_SERVICES","limit":250,"usage":0}],"selfLink":"https://www.googleapis.com/compute/v1/projects/safelydv300classproj","defaultServiceAccount":"130552682344-compute@developer.gserviceaccount.com","xpnProjectStatus":"UNSPECIFIED_XPN_PROJECT_STATUS","defaultNetworkTier":"PREMIUM","vmDnsSetting":"GLOBAL_DEFAULT","cloudArmorTier":"CA_STANDARD"}
[debug] [2025-08-15T09:47:09.491Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:47:09.491Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:47:09.491Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/safelydv300classproj/billingInfo [none]
[debug] [2025-08-15T09:47:10.814Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/safelydv300classproj/billingInfo 200
[debug] [2025-08-15T09:47:10.814Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/safelydv300classproj/billingInfo {"name":"projects/safelydv300classproj/billingInfo","projectId":"safelydv300classproj","billingAccountName":"billingAccounts/01E9CC-CBD959-768D9C","billingEnabled":true}
[debug] [2025-08-15T09:47:10.817Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:47:10.817Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:47:10.817Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2025-08-15T09:47:11.977Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/functions:generateUploadUrl 200
[debug] [2025-08-15T09:47:11.978Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-130552682344.us-central1.cloudfunctions.appspot.com/112bf528-7bc7-424d-8da0-aaca3ecddb1c.zip?GoogleAccessId=service-130552682344@gcf-admin-robot.iam.gserviceaccount.com&Expires=1755253031&Signature=lnM%2B1%2F%2BeXPGq%2Boh3JCRbxa4O2FeFeXJYe4oJJyyWWgJnXAZNmW1rtaBGwvbroe%2BQAGOqg3gcP5bUPmeClxFLoAo6KRDd0657xG7spLoV0JN5jaCrQjF7Y6KX%2FWau31TsodgtuUZUXIQqpbtOK%2F2AwS3667IwapZ0m9lD1IRVjjiCNqG8obW0oG9MktIP50%2Fzc4d3TIABLTLiEJaBfRy71iQrc1CYExsCh0hx%2FzVIKOxMZPyyCFgcyXZkLJxHbfsv9nSJ0RhPft0HGmr3glpUgMrh9yzj7ByfLL9auj%2BGBdLW7ZEnSXnl1AWS7IY63%2FKE5qgtwrjeyu0B6y2U845eqQ%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-130552682344.us-central1.cloudfunctions.appspot.com","object":"112bf528-7bc7-424d-8da0-aaca3ecddb1c.zip"}}
[debug] [2025-08-15T09:47:11.979Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-130552682344.us-central1.cloudfunctions.appspot.com/112bf528-7bc7-424d-8da0-aaca3ecddb1c.zip GoogleAccessId=service-130552682344%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1755253031&Signature=lnM%2B1%2F%2BeXPGq%2Boh3JCRbxa4O2FeFeXJYe4oJJyyWWgJnXAZNmW1rtaBGwvbroe%2BQAGOqg3gcP5bUPmeClxFLoAo6KRDd0657xG7spLoV0JN5jaCrQjF7Y6KX%2FWau31TsodgtuUZUXIQqpbtOK%2F2AwS3667IwapZ0m9lD1IRVjjiCNqG8obW0oG9MktIP50%2Fzc4d3TIABLTLiEJaBfRy71iQrc1CYExsCh0hx%2FzVIKOxMZPyyCFgcyXZkLJxHbfsv9nSJ0RhPft0HGmr3glpUgMrh9yzj7ByfLL9auj%2BGBdLW7ZEnSXnl1AWS7IY63%2FKE5qgtwrjeyu0B6y2U845eqQ%3D%3D
[debug] [2025-08-15T09:47:11.980Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-130552682344.us-central1.cloudfunctions.appspot.com/112bf528-7bc7-424d-8da0-aaca3ecddb1c.zip [stream]
[debug] [2025-08-15T09:47:13.169Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-130552682344.us-central1.cloudfunctions.appspot.com/112bf528-7bc7-424d-8da0-aaca3ecddb1c.zip 200
[debug] [2025-08-15T09:47:13.169Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-130552682344.us-central1.cloudfunctions.appspot.com/112bf528-7bc7-424d-8da0-aaca3ecddb1c.zip [omitted]
[info] +  functions: functions folder uploaded successfully 
[info] i  functions: updating Node.js 18 (2nd Gen) function sendSafetyAlert(us-central1)... 
[debug] [2025-08-15T09:47:13.177Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:47:13.177Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:47:13.177Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels
[debug] [2025-08-15T09:47:13.178Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert {"name":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","buildConfig":{"runtime":"nodejs18","entryPoint":"sendSafetyAlert","source":{"storageSource":{"bucket":"gcf-v2-uploads-130552682344.us-central1.cloudfunctions.appspot.com","object":"112bf528-7bc7-424d-8da0-aaca3ecddb1c.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"safelydv300classproj\",\"storageBucket\":\"safelydv300classproj.firebasestorage.app\"}","GCLOUD_PROJECT":"safelydv300classproj","EVENTARC_CLOUD_EVENT_SOURCE":"projects/safelydv300classproj/locations/us-central1/services/sendSafetyAlert","FUNCTION_TARGET":"sendSafetyAlert","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"f0625c588415d44a958e2417ab4414f6c0a805c5"}}
[debug] [2025-08-15T09:47:14.901Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert 200
[debug] [2025-08-15T09:47:14.901Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert {"name":"projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-15T09:47:14.263427757Z","target":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2025-08-15T09:47:14.902Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:47:14.903Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:47:14.903Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c [none]
[debug] [2025-08-15T09:47:15.253Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c 200
[debug] [2025-08-15T09:47:15.253Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c {"name":"projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-15T09:47:14.263427757Z","target":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","buildConfig":{"runtime":"nodejs18","entryPoint":"sendSafetyAlert","source":{"storageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755251234214193"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755247066401679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/safelydv300classproj/serviceAccounts/130552682344-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"safelydv300classproj\",\"storageBucket\":\"safelydv300classproj.firebasestorage.app\"}","GCLOUD_PROJECT":"safelydv300classproj","EVENTARC_CLOUD_EVENT_SOURCE":"projects/safelydv300classproj/locations/us-central1/services/sendSafetyAlert","FUNCTION_TARGET":"sendSafetyAlert","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"130552682344-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-callable":"true","firebase-functions-hash":"f0625c588415d44a958e2417ab4414f6c0a805c5"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-safelydv300classproj.cloudfunctions.net/sendSafetyAlert","satisfiesPzi":true},"stages":[{"name":"BUILD","state":"NOT_STARTED","stateMessages":[{"severity":"WARNING","type":"BuildAnalysisWarning","message":"Node.js 18 is no longer supported by the Node.js community as of 30 April, 2025. Node.js 18 will be decommissioned on 2025-10-30. As of 2025-10-30 you will no longer be able to deploy your Cloud Functions using nodejs18. We recommend you to upgrade to the latest version of Node.js as soon as possible."}]},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2025-08-15T09:47:15.756Z] [update-default-us-central1-sendSafetyAlert] Retrying task index 0
[debug] [2025-08-15T09:47:15.757Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:47:15.757Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:47:15.758Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c [none]
[debug] [2025-08-15T09:47:16.596Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c 200
[debug] [2025-08-15T09:47:16.597Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c {"name":"projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-15T09:47:14.263427757Z","target":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","buildConfig":{"runtime":"nodejs18","entryPoint":"sendSafetyAlert","source":{"storageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755251234214193"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755247066401679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/safelydv300classproj/serviceAccounts/130552682344-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"safelydv300classproj\",\"storageBucket\":\"safelydv300classproj.firebasestorage.app\"}","GCLOUD_PROJECT":"safelydv300classproj","EVENTARC_CLOUD_EVENT_SOURCE":"projects/safelydv300classproj/locations/us-central1/services/sendSafetyAlert","FUNCTION_TARGET":"sendSafetyAlert","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"130552682344-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-callable":"true","firebase-functions-hash":"f0625c588415d44a958e2417ab4414f6c0a805c5"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-safelydv300classproj.cloudfunctions.net/sendSafetyAlert","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/130552682344/locations/us-central1/builds/e9a5b5f0-2f40-4fb7-8b49-2cac167f83b9","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e9a5b5f0-2f40-4fb7-8b49-2cac167f83b9?project=130552682344"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/130552682344/locations/us-central1/builds/e9a5b5f0-2f40-4fb7-8b49-2cac167f83b9"},"done":false}
[debug] [2025-08-15T09:47:17.600Z] [update-default-us-central1-sendSafetyAlert] Retrying task index 0
[debug] [2025-08-15T09:47:17.601Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:47:17.601Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:47:17.602Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c [none]
[debug] [2025-08-15T09:47:18.477Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c 200
[debug] [2025-08-15T09:47:18.478Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c {"name":"projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-15T09:47:14.263427757Z","target":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","buildConfig":{"runtime":"nodejs18","entryPoint":"sendSafetyAlert","source":{"storageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755251234214193"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755247066401679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/safelydv300classproj/serviceAccounts/130552682344-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"safelydv300classproj\",\"storageBucket\":\"safelydv300classproj.firebasestorage.app\"}","GCLOUD_PROJECT":"safelydv300classproj","EVENTARC_CLOUD_EVENT_SOURCE":"projects/safelydv300classproj/locations/us-central1/services/sendSafetyAlert","FUNCTION_TARGET":"sendSafetyAlert","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"130552682344-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-callable":"true","firebase-functions-hash":"f0625c588415d44a958e2417ab4414f6c0a805c5"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-safelydv300classproj.cloudfunctions.net/sendSafetyAlert","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/130552682344/locations/us-central1/builds/e9a5b5f0-2f40-4fb7-8b49-2cac167f83b9","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e9a5b5f0-2f40-4fb7-8b49-2cac167f83b9?project=130552682344"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/130552682344/locations/us-central1/builds/e9a5b5f0-2f40-4fb7-8b49-2cac167f83b9"},"done":false}
[debug] [2025-08-15T09:47:20.479Z] [update-default-us-central1-sendSafetyAlert] Retrying task index 0
[debug] [2025-08-15T09:47:20.480Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:47:20.481Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:47:20.481Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c [none]
[debug] [2025-08-15T09:47:21.377Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c 200
[debug] [2025-08-15T09:47:21.377Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c {"name":"projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-15T09:47:14.263427757Z","target":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","buildConfig":{"runtime":"nodejs18","entryPoint":"sendSafetyAlert","source":{"storageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755251234214193"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755247066401679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/safelydv300classproj/serviceAccounts/130552682344-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"safelydv300classproj\",\"storageBucket\":\"safelydv300classproj.firebasestorage.app\"}","GCLOUD_PROJECT":"safelydv300classproj","EVENTARC_CLOUD_EVENT_SOURCE":"projects/safelydv300classproj/locations/us-central1/services/sendSafetyAlert","FUNCTION_TARGET":"sendSafetyAlert","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"130552682344-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-callable":"true","firebase-functions-hash":"f0625c588415d44a958e2417ab4414f6c0a805c5"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-safelydv300classproj.cloudfunctions.net/sendSafetyAlert","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/130552682344/locations/us-central1/builds/e9a5b5f0-2f40-4fb7-8b49-2cac167f83b9","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e9a5b5f0-2f40-4fb7-8b49-2cac167f83b9?project=130552682344"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/130552682344/locations/us-central1/builds/e9a5b5f0-2f40-4fb7-8b49-2cac167f83b9"},"done":false}
[debug] [2025-08-15T09:47:25.390Z] [update-default-us-central1-sendSafetyAlert] Retrying task index 0
[debug] [2025-08-15T09:47:25.391Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:47:25.391Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:47:25.392Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c [none]
[debug] [2025-08-15T09:47:26.288Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c 200
[debug] [2025-08-15T09:47:26.288Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c {"name":"projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-15T09:47:14.263427757Z","target":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","buildConfig":{"runtime":"nodejs18","entryPoint":"sendSafetyAlert","source":{"storageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755251234214193"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755247066401679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/safelydv300classproj/serviceAccounts/130552682344-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"safelydv300classproj\",\"storageBucket\":\"safelydv300classproj.firebasestorage.app\"}","GCLOUD_PROJECT":"safelydv300classproj","EVENTARC_CLOUD_EVENT_SOURCE":"projects/safelydv300classproj/locations/us-central1/services/sendSafetyAlert","FUNCTION_TARGET":"sendSafetyAlert","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"130552682344-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-callable":"true","firebase-functions-hash":"f0625c588415d44a958e2417ab4414f6c0a805c5"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-safelydv300classproj.cloudfunctions.net/sendSafetyAlert","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/130552682344/locations/us-central1/builds/e9a5b5f0-2f40-4fb7-8b49-2cac167f83b9","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e9a5b5f0-2f40-4fb7-8b49-2cac167f83b9?project=130552682344"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/130552682344/locations/us-central1/builds/e9a5b5f0-2f40-4fb7-8b49-2cac167f83b9"},"done":false}
[debug] [2025-08-15T09:47:34.302Z] [update-default-us-central1-sendSafetyAlert] Retrying task index 0
[debug] [2025-08-15T09:47:34.303Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:47:34.303Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:47:34.303Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c [none]
[debug] [2025-08-15T09:47:34.850Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c 200
[debug] [2025-08-15T09:47:34.851Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c {"name":"projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-15T09:47:14.263427757Z","target":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","buildConfig":{"runtime":"nodejs18","entryPoint":"sendSafetyAlert","source":{"storageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755251234214193"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755247066401679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/safelydv300classproj/serviceAccounts/130552682344-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"safelydv300classproj\",\"storageBucket\":\"safelydv300classproj.firebasestorage.app\"}","GCLOUD_PROJECT":"safelydv300classproj","EVENTARC_CLOUD_EVENT_SOURCE":"projects/safelydv300classproj/locations/us-central1/services/sendSafetyAlert","FUNCTION_TARGET":"sendSafetyAlert","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"130552682344-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-callable":"true","firebase-functions-hash":"f0625c588415d44a958e2417ab4414f6c0a805c5"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-safelydv300classproj.cloudfunctions.net/sendSafetyAlert","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/130552682344/locations/us-central1/builds/e9a5b5f0-2f40-4fb7-8b49-2cac167f83b9","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e9a5b5f0-2f40-4fb7-8b49-2cac167f83b9?project=130552682344"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/130552682344/locations/us-central1/builds/e9a5b5f0-2f40-4fb7-8b49-2cac167f83b9"},"done":false}
[debug] [2025-08-15T09:47:44.860Z] [update-default-us-central1-sendSafetyAlert] Retrying task index 0
[debug] [2025-08-15T09:47:44.861Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:47:44.861Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:47:44.861Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c [none]
[debug] [2025-08-15T09:47:45.925Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c 200
[debug] [2025-08-15T09:47:45.925Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c {"name":"projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-15T09:47:14.263427757Z","target":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","buildConfig":{"runtime":"nodejs18","entryPoint":"sendSafetyAlert","source":{"storageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755251234214193"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755247066401679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/safelydv300classproj/serviceAccounts/130552682344-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"safelydv300classproj\",\"storageBucket\":\"safelydv300classproj.firebasestorage.app\"}","GCLOUD_PROJECT":"safelydv300classproj","EVENTARC_CLOUD_EVENT_SOURCE":"projects/safelydv300classproj/locations/us-central1/services/sendSafetyAlert","FUNCTION_TARGET":"sendSafetyAlert","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"130552682344-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-callable":"true","firebase-functions-hash":"f0625c588415d44a958e2417ab4414f6c0a805c5"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-safelydv300classproj.cloudfunctions.net/sendSafetyAlert","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/130552682344/locations/us-central1/builds/e9a5b5f0-2f40-4fb7-8b49-2cac167f83b9","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e9a5b5f0-2f40-4fb7-8b49-2cac167f83b9?project=130552682344"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/130552682344/locations/us-central1/builds/e9a5b5f0-2f40-4fb7-8b49-2cac167f83b9"},"done":false}
[debug] [2025-08-15T09:47:55.933Z] [update-default-us-central1-sendSafetyAlert] Retrying task index 0
[debug] [2025-08-15T09:47:55.934Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:47:55.935Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:47:55.935Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c [none]
[debug] [2025-08-15T09:47:56.521Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c 200
[debug] [2025-08-15T09:47:56.522Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c {"name":"projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-15T09:47:14.263427757Z","target":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","buildConfig":{"runtime":"nodejs18","entryPoint":"sendSafetyAlert","source":{"storageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755251234214193"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755247066401679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/safelydv300classproj/serviceAccounts/130552682344-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"safelydv300classproj\",\"storageBucket\":\"safelydv300classproj.firebasestorage.app\"}","GCLOUD_PROJECT":"safelydv300classproj","EVENTARC_CLOUD_EVENT_SOURCE":"projects/safelydv300classproj/locations/us-central1/services/sendSafetyAlert","FUNCTION_TARGET":"sendSafetyAlert","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"130552682344-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-callable":"true","firebase-functions-hash":"f0625c588415d44a958e2417ab4414f6c0a805c5"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-safelydv300classproj.cloudfunctions.net/sendSafetyAlert","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/130552682344/locations/us-central1/builds/e9a5b5f0-2f40-4fb7-8b49-2cac167f83b9","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e9a5b5f0-2f40-4fb7-8b49-2cac167f83b9?project=130552682344"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/130552682344/locations/us-central1/builds/e9a5b5f0-2f40-4fb7-8b49-2cac167f83b9"},"done":false}
[debug] [2025-08-15T09:48:06.536Z] [update-default-us-central1-sendSafetyAlert] Retrying task index 0
[debug] [2025-08-15T09:48:06.539Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:48:06.539Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:48:06.540Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c [none]
[debug] [2025-08-15T09:48:07.147Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c 200
[debug] [2025-08-15T09:48:07.147Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c {"name":"projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-15T09:47:14.263427757Z","target":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","buildConfig":{"runtime":"nodejs18","entryPoint":"sendSafetyAlert","source":{"storageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755251234214193"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755247066401679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/safelydv300classproj/serviceAccounts/130552682344-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"safelydv300classproj\",\"storageBucket\":\"safelydv300classproj.firebasestorage.app\"}","GCLOUD_PROJECT":"safelydv300classproj","EVENTARC_CLOUD_EVENT_SOURCE":"projects/safelydv300classproj/locations/us-central1/services/sendSafetyAlert","FUNCTION_TARGET":"sendSafetyAlert","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"130552682344-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-callable":"true","firebase-functions-hash":"f0625c588415d44a958e2417ab4414f6c0a805c5"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-safelydv300classproj.cloudfunctions.net/sendSafetyAlert","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/130552682344/locations/us-central1/builds/e9a5b5f0-2f40-4fb7-8b49-2cac167f83b9","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e9a5b5f0-2f40-4fb7-8b49-2cac167f83b9?project=130552682344"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/130552682344/locations/us-central1/builds/e9a5b5f0-2f40-4fb7-8b49-2cac167f83b9"},"done":false}
[debug] [2025-08-15T09:48:17.153Z] [update-default-us-central1-sendSafetyAlert] Retrying task index 0
[debug] [2025-08-15T09:48:17.154Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:48:17.154Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:48:17.155Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c [none]
[debug] [2025-08-15T09:48:18.305Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c 200
[debug] [2025-08-15T09:48:18.306Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c {"name":"projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-15T09:47:14.263427757Z","target":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","buildConfig":{"runtime":"nodejs18","entryPoint":"sendSafetyAlert","source":{"storageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755251234214193"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755247066401679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/safelydv300classproj/serviceAccounts/130552682344-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"safelydv300classproj\",\"storageBucket\":\"safelydv300classproj.firebasestorage.app\"}","GCLOUD_PROJECT":"safelydv300classproj","EVENTARC_CLOUD_EVENT_SOURCE":"projects/safelydv300classproj/locations/us-central1/services/sendSafetyAlert","FUNCTION_TARGET":"sendSafetyAlert","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"130552682344-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-callable":"true","firebase-functions-hash":"f0625c588415d44a958e2417ab4414f6c0a805c5"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-safelydv300classproj.cloudfunctions.net/sendSafetyAlert","satisfiesPzi":true},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/130552682344/locations/us-central1/builds/e9a5b5f0-2f40-4fb7-8b49-2cac167f83b9","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e9a5b5f0-2f40-4fb7-8b49-2cac167f83b9?project=130552682344"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/sendsafetyalert?project=safelydv300classproj","stateMessages":[{"severity":"WARNING","type":"CloudRunServiceRecreated","message":"Cloud Run service projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert for the function was not found. The service was redeployed with default values."}]}],"sourceToken":"Cldwcm9qZWN0cy8xMzA1NTI2ODIzNDQvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9lOWE1YjVmMC0yZjQwLTRmYjctOGI0OS0yY2FjMTY3ZjgzYjkSfXVzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NhZmVseWR2MzAwY2xhc3Nwcm9qL2djZi1hcnRpZmFjdHMvc2FmZWx5ZHYzMDBjbGFzc3Byb2pfX3VzLS1jZW50cmFsMV9fc2VuZF9zYWZldHlfYWxlcnQ6dmVyc2lvbl8xGOiur6zmAyJNcHJvamVjdHMvc2FmZWx5ZHYzMDBjbGFzc3Byb2ovbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9zZW5kU2FmZXR5QWxlcnQqCwjchPzEBhDgq8ReMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","operationType":"UPDATE_FUNCTION","buildName":"projects/130552682344/locations/us-central1/builds/e9a5b5f0-2f40-4fb7-8b49-2cac167f83b9"},"done":false}
[debug] [2025-08-15T09:48:18.307Z] Got source token Cldwcm9qZWN0cy8xMzA1NTI2ODIzNDQvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9lOWE1YjVmMC0yZjQwLTRmYjctOGI0OS0yY2FjMTY3ZjgzYjkSfXVzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NhZmVseWR2MzAwY2xhc3Nwcm9qL2djZi1hcnRpZmFjdHMvc2FmZWx5ZHYzMDBjbGFzc3Byb2pfX3VzLS1jZW50cmFsMV9fc2VuZF9zYWZldHlfYWxlcnQ6dmVyc2lvbl8xGOiur6zmAyJNcHJvamVjdHMvc2FmZWx5ZHYzMDBjbGFzc3Byb2ovbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9zZW5kU2FmZXR5QWxlcnQqCwjchPzEBhDgq8ReMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB for region us-central1
[debug] [2025-08-15T09:48:28.312Z] [update-default-us-central1-sendSafetyAlert] Retrying task index 0
[debug] [2025-08-15T09:48:28.313Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:48:28.314Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:48:28.314Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c [none]
[debug] [2025-08-15T09:48:29.357Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c 200
[debug] [2025-08-15T09:48:29.358Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c {"name":"projects/safelydv300classproj/locations/us-central1/operations/operation-1755251233508-63c644643cdaf-87bf45b6-5850fc8c","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2025-08-15T09:47:14.263427757Z","endTime":"2025-08-15T09:48:19.250278600Z","target":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/safelydv300classproj/locations/us-central1/functions/sendSafetyAlert","buildConfig":{"runtime":"nodejs18","entryPoint":"sendSafetyAlert","source":{"storageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755251234214193"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-130552682344-us-central1","object":"sendSafetyAlert/function-source.zip","generation":"1755247066401679"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/safelydv300classproj/serviceAccounts/130552682344-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"safelydv300classproj\",\"storageBucket\":\"safelydv300classproj.firebasestorage.app\"}","GCLOUD_PROJECT":"safelydv300classproj","EVENTARC_CLOUD_EVENT_SOURCE":"projects/safelydv300classproj/locations/us-central1/services/sendSafetyAlert","FUNCTION_TARGET":"sendSafetyAlert","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"130552682344-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"deployment-callable":"true","firebase-functions-hash":"f0625c588415d44a958e2417ab4414f6c0a805c5"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/safelydv300classproj/locations/us-central1/services/sendsafetyalert for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-safelydv300classproj.cloudfunctions.net/sendSafetyAlert","satisfiesPzi":true},"stages":[{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Could not create or update Cloud Run service sendsafetyalert, Container Healthcheck failed. Revision 'sendsafetyalert-00001-xod' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=safelydv300classproj&resource=cloud_run_revision/service_name/sendsafetyalert/revision_name/sendsafetyalert-00001-xod&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22sendsafetyalert%22%0Aresource.labels.revision_name%3D%22sendsafetyalert-00001-xod%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"}}
[debug] [2025-08-15T09:48:29.359Z] Got source token undefined for region us-central1
[error] Could not create or update Cloud Run service sendsafetyalert, Container Healthcheck failed. Revision 'sendsafetyalert-00001-xod' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.

Logs URL: https://console.cloud.google.com/logs/viewer?project=safelydv300classproj&resource=cloud_run_revision/service_name/sendsafetyalert/revision_name/sendsafetyalert-00001-xod&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22sendsafetyalert%22%0Aresource.labels.revision_name%3D%22sendsafetyalert-00001-xod%22 
For more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start
[debug] [2025-08-15T09:48:29.363Z] Total Function Deployment time: 76187
[debug] [2025-08-15T09:48:29.363Z] 1 Functions Deployed
[debug] [2025-08-15T09:48:29.363Z] 1 Functions Errored
[debug] [2025-08-15T09:48:29.364Z] 0 Function Deployments Aborted
[debug] [2025-08-15T09:48:29.364Z] Average Function Deployment time: 76186
[info] 
[info] Functions deploy had errors with the following functions:
	sendSafetyAlert(us-central1)
[debug] [2025-08-15T09:48:29.366Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:48:29.367Z] Checked if tokens are valid: true, expires at: 1755252552875
[debug] [2025-08-15T09:48:29.367Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts [none]
[debug] [2025-08-15T09:48:30.693Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts 200
[debug] [2025-08-15T09:48:30.693Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts {"name":"projects/safelydv300classproj/locations/us-central1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2025-08-15T08:37:55.421836Z","updateTime":"2025-08-15T09:48:03.962607Z","mode":"STANDARD_REPOSITORY","cleanupPolicies":{"firebase-functions-cleanup":{"id":"firebase-functions-cleanup","action":"DELETE","condition":{"tagState":"ANY","olderThan":"1728000s"}}},"sizeBytes":"105231707","vulnerabilityScanningConfig":{"lastEnableTime":"2025-08-15T08:37:46.936416874Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true,"registryUri":"us-central1-docker.pkg.dev/safelydv300classproj/gcf-artifacts"}
[debug] [2025-08-15T09:48:30.694Z] Functions deploy failed.
[debug] [2025-08-15T09:48:30.694Z] {
  "endpoint": {
    "id": "sendSafetyAlert",
    "project": "safelydv300classproj",
    "region": "us-central1",
    "entryPoint": "sendSafetyAlert",
    "platform": "gcfv2",
    "runtime": "nodejs18",
    "callableTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"safelydv300classproj\",\"storageBucket\":\"safelydv300classproj.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "safelydv300classproj",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/safelydv300classproj/locations/us-central1/services/sendSafetyAlert"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "cpu": 1,
    "targetedByOnly": false,
    "hash": "f0625c588415d44a958e2417ab4414f6c0a805c5"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Could not create or update Cloud Run service sendsafetyalert, Container Healthcheck failed. Revision 'sendsafetyalert-00001-xod' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=safelydv300classproj&resource=cloud_run_revision/service_name/sendsafetyalert/revision_name/sendsafetyalert-00001-xod&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22sendsafetyalert%22%0Aresource.labels.revision_name%3D%22sendsafetyalert-00001-xod%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start",
    "original": {
      "code": 3,
      "message": "Could not create or update Cloud Run service sendsafetyalert, Container Healthcheck failed. Revision 'sendsafetyalert-00001-xod' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=safelydv300classproj&resource=cloud_run_revision/service_name/sendsafetyalert/revision_name/sendsafetyalert-00001-xod&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22sendsafetyalert%22%0Aresource.labels.revision_name%3D%22sendsafetyalert-00001-xod%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2025-08-15T09:48:30.704Z] Error: Failed to update function sendSafetyAlert in region us-central1
    at C:\Users\Kurts\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:399:19
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Fabricator.updateV2Function (C:\Users\Kurts\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:388:32)
    at async Fabricator.updateEndpoint (C:\Users\Kurts\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:155:13)
    at async handle (C:\Users\Kurts\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:89:17)
[error] 
[error] Error: There was an error deploying functions
